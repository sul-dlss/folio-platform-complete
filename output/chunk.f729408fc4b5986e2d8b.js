(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2975:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(3),o=n.n(r),i=n(1),a=n.n(i),c=n(2941),u=n(2940),s=n(2),l=n(29),f=n(0);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=j(i);function i(){return d(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderEdition",value:function(e){return e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{id:"ui-agreements.coverage.editionShort"}),Object(f.jsx)("div",{children:e})]}):null}},{key:"renderVolume",value:function(e){return e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{id:"ui-agreements.coverage.volumeShort"}),Object(f.jsx)("div",{children:e})]}):null}},{key:"renderCoverage",value:function(e){var t,n,r,o,i,a,c=null==e||null===(t=e.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n?void 0:n.dateMonographPublished,u=null==e||null===(r=e.pti)||void 0===r||null===(o=r.titleInstance)||void 0===o?void 0:o.monographVolume,l=null==e||null===(i=e.pti)||void 0===i||null===(a=i.titleInstance)||void 0===a?void 0:a.monographEdition;return c||u||l?Object(f.jsxs)(s.M,{className:"full",children:[Object(f.jsx)("div",{children:c}),Object(f.jsxs)("div",{children:[this.renderEdition(l),u&&l?Object(f.jsx)(f.Fragment,{children:"Â "}):null,this.renderVolume(u)]})]}):null}},{key:"render",value:function(){var e,t,n=this.props.pci;return null==n||null===(e=n.pti)||void 0===e||null===(t=e.titleInstance)||void 0===t||t.name,n?Object(f.jsx)(s.M,{className:"full",children:this.renderCoverage(n)}):null}}])&&b(t.prototype,n),r&&b(t,r),i}(o.a.Component);O.propTypes={pci:a.a.shape({pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string})}).isRequired})};var g=n(416);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,r,o=R(i);function i(){return x(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t,n,r,o,i,a,l,p,d,b,y=this.props,j=y.pci,m=y.line,h=y.eResource,v=!1;if(j)(null==j||null===(a=j.pti)||void 0===a||null===(l=a.titleInstance)||void 0===l||null===(p=l.type)||void 0===p?void 0:p.value)===g.g.MONOGRAPH&&(v=!0),o=j,i=null==j?void 0:j.embargo;else if(m){var x,w,P,R,S,_,D,E;(null==m||null===(x=m.resource)||void 0===x||null===(w=x._object)||void 0===w||null===(P=w.pti)||void 0===P||null===(R=P.titleInstance)||void 0===R||null===(S=R.type)||void 0===S?void 0:S.value)===g.g.MONOGRAPH?(v=!0,o=null==m||null===(_=m.resource)||void 0===_?void 0:_._object):(o=m,i=null==m||null===(D=m.resource)||void 0===D||null===(E=D._object)||void 0===E?void 0:E.embargo)}else if((null==h||null===(e=h._object)||void 0===e||null===(t=e.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.value)===g.g.MONOGRAPH)v=!0,o=null==h?void 0:h._object;else{var T;o=h,i=null==h||null===(T=h._object)||void 0===T?void 0:T.embargo}return v?Object(f.jsxs)("div",{children:[Object(f.jsx)(O,{pci:o}),Object(f.jsx)(c.a,{embargo:null===(d=o)||void 0===d?void 0:d.embargo})]}):Object(f.jsxs)(s.M,{className:"full",children:[Object(f.jsx)(u.a,{statements:null===(b=o)||void 0===b?void 0:b.coverage}),Object(f.jsx)(c.a,{embargo:i})]})}}])&&w(t.prototype,n),r&&w(t,r),i}(o.a.Component);D.propTypes={pci:a.a.shape({embargo:a.a.shape({movingWallStart:a.a.shape({length:a.a.number,unit:a.a.string}),movingWallEnd:a.a.shape({length:a.a.number,unit:a.a.string})}),pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string,type:a.a.shape({value:a.a.string})})})}),line:a.a.shape({resource:a.a.shape({_object:a.a.shape({embargo:a.a.shape({movingWallStart:a.a.shape({length:a.a.number,unit:a.a.string}),movingWallEnd:a.a.shape({length:a.a.number,unit:a.a.string})}),pci:a.a.shape({pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string,type:a.a.shape({value:a.a.string})})})}),pti:a.a.shape({titleInstance:a.a.shape({type:a.a.shape({value:a.a.string})})})})})}),eResource:a.a.shape({_object:a.a.shape({embargo:a.a.shape({movingWallStart:a.a.shape({length:a.a.number,unit:a.a.string}),movingWallEnd:a.a.shape({length:a.a.number,unit:a.a.string})}),pci:a.a.shape({pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string,type:a.a.shape({value:a.a.string})})})}),pti:a.a.shape({titleInstance:a.a.shape({type:a.a.shape({value:a.a.string})})})})})}},2985:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(3),o=n.n(r),i=n(1),a=n.n(i),c=n(7),u=n(0);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["handlers"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,t);var n,r,o,i=h(a);function a(){var e;y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).handleUploadFile=function(t){var n=e.props.stripes.okapi,r=new FormData;return r.append("upload",t),fetch("".concat(n.url,"/erm/files"),{method:"POST",headers:{"X-Okapi-Tenant":n.tenant,"X-Okapi-Token":n.token},body:r})},e.handleDeleteFile=function(t){var n=e.props.stripes.okapi;return fetch("".concat(n.url,"/erm/files/").concat(t.id),{method:"DELETE",headers:{"X-Okapi-Tenant":n.tenant,"X-Okapi-Token":n.token}})},e.handleDownloadFile=function(t){var n=e.props.stripes.okapi;return fetch("".concat(n.url,"/erm/files/").concat(t.id,"/raw"),{headers:{"X-Okapi-Tenant":n.tenant,"X-Okapi-Token":n.token}}).then((function(e){return e.blob()})).then((function(e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t.name,document.body.appendChild(r),r.click(),r.remove()}))},e}return n=a,(r=[{key:"render",value:function(){var t=this.props,n=t.handlers,r=b(t,l);return Object(u.jsx)(e,p({handlers:p(p({},n),{},{onDownloadFile:this.handleDownloadFile,onUploadFile:this.handleUploadFile})},r))}}])&&j(n.prototype,r),o&&j(n,o),a}(o.a.Component);return t.propTypes={handlers:a.a.object,stripes:a.a.shape({okapi:a.a.shape({tenant:a.a.string.isRequired,token:a.a.string.isRequired,url:a.a.string}).isRequired}).isRequired},t.defaultProps={handlers:{}},t.displayName="WithFileHandlers(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),Object(c.v)(t)}},2986:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m}));var r=n(416),o=["agreement","type"],i=["agreement","type"],a=["inward","outward","type"],c=["inward","outward","type"];function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=[];r.a.forEach((function(e){e.outward.label===e.inward.label&&b.push(e.type)}));var y=function(e,t){var n,o,i=r.a.find((function(t){return t.inward.value===e}));return i?null===(n=t.filter((function(e){return e.value===i.outward.value})))||void 0===n||null===(o=n[0])||void 0===o?void 0:o.id:void 0};function j(e,t){var n=e.inwardRelationships,a=void 0===n?[]:n,c=e.relatedAgreements,u=void 0===c?[]:c,s=e.outwardRelationships,l=void 0===s?[]:s,p=u.filter((function(e){return e.type?(t=e.type,!!r.a.find((function(e){return e.outward.value===t}))):!!l.find((function(t){return t.id===e.id}));var t})).map((function(e){var n,r,i=e.agreement,a=e.type;return f(f({},d(e,o)),{},{inward:i?i.id:void 0,type:null===(n=t.filter((function(e){return e.value===a})))||void 0===n||null===(r=n[0])||void 0===r?void 0:r.id})})),b=u.filter((function(e){return e.type?(t=e.type,!!r.a.find((function(e){return e.inward.value===t}))):!!a.find((function(t){return t.id===e.id}));var t})).map((function(e){var n=e.agreement,r=e.type;return f(f({},d(e,i)),{},{outward:n?n.id:void 0,type:y(r,t)})}));p&&(e.outwardRelationships=p),b&&(e.inwardRelationships=b)}function m(e){var t=e.inwardRelationships,n=void 0===t?[]:t,o=e.outwardRelationships,i=void 0===o?[]:o,s=[].concat(u(n.map((function(e){e.inward;var t,n,o=e.outward,i=e.type;return f(f({},d(e,a)),{},{agreement:o,type:(t=i.value,n=r.a.find((function(e){return e.outward.value===t})),b.includes(n.type)?n.outward.value:n?n.inward.value:void 0)})}))),u(i.map((function(e){var t=e.inward,n=(e.outward,e.type);return f(f({},d(e,c)),{},{agreement:t,type:n.value})}))));e.relatedAgreements=s}},2991:function(e,t,n){"use strict";n.d(t,"v",(function(){return h})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return te})),n.d(t,"d",(function(){return Ne})),n.d(t,"e",(function(){return He})),n.d(t,"f",(function(){return Nt})),n.d(t,"g",(function(){return gn})),n.d(t,"h",(function(){return En})),n.d(t,"i",(function(){return nr})),n.d(t,"j",(function(){return lr})),n.d(t,"k",(function(){return gr})),n.d(t,"l",(function(){return Zr})),n.d(t,"m",(function(){return bo})),n.d(t,"n",(function(){return Po})),n.d(t,"o",(function(){return Co})),n.d(t,"p",(function(){return No})),n.d(t,"q",(function(){return Ho})),n.d(t,"r",(function(){return gi})),n.d(t,"s",(function(){return Ei})),n.d(t,"a",(function(){return ki})),n.d(t,"t",(function(){return Ii})),n.d(t,"u",(function(){return Xi})),n.d(t,"w",(function(){return oa})),n.d(t,"x",(function(){return pa}));var r=n(3),o=n.n(r),i=n(1),a=n.n(i),c=n(29),u=n(2947),s=n(2),l=n(0);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=y(i);function i(){return p(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement,n=e.data.supplementaryProperties,r=e.id;return Object(l.jsx)(s.a,{id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryProperties"}),children:Object(l.jsx)(u.a,{customProperties:n,isEmptyMessage:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.supplementaryProperties"}),resource:t})})}}])&&d(t.prototype,n),r&&d(t,r),i}(o.a.Component);h.propTypes={agreement:a.a.object,id:a.a.string,data:a.a.shape({supplementaryProperties:a.a.arrayOf(a.a.object)})};var O=n(4),g=n(13),v=n(7),x=n(2944),w=n(2738),P=n(415),R=n(2997),S=n.n(R);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,e);var t,n,r,o=k(i);function i(){return D(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderStatusMismatchWarnings",value:function(e){return P.b.amendmentWarning(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.amendments,r=t.id,o=t.license,i=t.renderStatuses,a=t.renderWarnings,u=t.renderNotes,f=["warning","name","status","startDate","endDate","note"];return f=i?f:f.filter((function(e){return"status"!==e})),f=a?f:f.filter((function(e){return"warning"!==e})),f=u?f:f.filter((function(e){return"note"!==e})),Object(l.jsx)(s.W,{columnMapping:{warning:"",note:Object(l.jsx)(c.a,{id:"ui-agreements.note"}),name:Object(l.jsx)(c.a,{id:"ui-agreements.license.amendment"}),status:Object(l.jsx)(c.a,{id:"ui-agreements.status"}),startDate:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.startDate"}),endDate:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.endDate"})},columnWidths:{note:"350px"},contentData:n,formatter:{warning:function(t){return e.renderStatusMismatchWarnings(t)?Object(l.jsx)(s.Cb,{id:"warning-tooltip-".concat(t.id),placement:"left",text:e.renderStatusMismatchWarnings(t),children:function(e){var t=e.ref,n=e.ariaIds;return Object(l.jsx)(s.G,{ref:t,"aria-labelledby":n.text,icon:"exclamation-circle",iconClassName:S.a.tooltipIcon,tabIndex:"0"})}}):""},note:function(e){return e.note?e.note:""},name:function(e){return Object(l.jsx)(g.a,{to:P.h.amendmentView(o.id,e.id),children:e.name})},status:function(e){var t,n;return null!==(t=null===(n=e.status)||void 0===n?void 0:n.label)&&void 0!==t?t:Object(l.jsx)(s.bb,{})},startDate:function(e){return e.startDate?Object(l.jsx)(s.B,{value:e.startDate}):Object(l.jsx)(s.bb,{})},endDate:function(e){return Object(l.jsx)(w.a,{license:e})}},id:r,interactive:!1,visibleColumns:f})}}])&&E(t.prototype,n),r&&E(t,r),i}(o.a.Component);L.propTypes={amendments:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,name:a.a.string.isRequired,note:a.a.string,startDate:a.a.string,status:a.a.shape({label:a.a.string})})),id:a.a.string,license:a.a.shape({id:a.a.string.isRequired}),renderNotes:a.a.bool,renderStatuses:a.a.bool,renderWarnings:a.a.bool};var B=n(416);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=M(i);function i(){var e;q(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderLicense=function(t){var n=Object(P.c)(t,B.i.UNSET),r=t.remoteId_object||{};return Object(l.jsxs)(s.i,{cardStyle:"positive",headerStart:Object(l.jsx)(v.b,{app:"licenses",size:"small",children:Object(l.jsx)(g.a,{to:P.h.licenseView(r.id),children:Object(l.jsx)("strong",{children:r.name})})}),id:"agreement-controlling-license",roundedBorder:!0,children:[n.length?Object(l.jsx)(s.T,{type:"warning",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.warn.unassignedAmendments"})}):null,Object(l.jsx)(x.a,{license:r,renderName:!1}),t.note&&Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.note"}),children:t.note}),e.renderAmendments(t,B.i.CURRENT),n.length?e.renderAmendments(t,B.i.UNSET):null]})},e.renderAmendments=function(e,t){var n=Object(P.c)(e,t);return n.length?Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.license.".concat(t,"Amendments")}),children:Object(l.jsx)(L,{amendments:n,id:"controlling-license-".concat(t,"-amendments"),license:e.remoteId_object,renderNotes:t!==B.i.UNSET,renderStatuses:t!==B.i.HISTORICAL,renderWarnings:t===B.i.CURRENT})}):null},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.id,t=Object(O.get)(this.props,"agreement.linkedLicenses",[]).find((function(e){return e.status.value===B.i.CONTROLLING}));return Object(l.jsx)(s.a,{displayWhenClosed:Object(l.jsx)(s.e,{children:t?1:0}),displayWhenOpen:Object(l.jsx)(s.e,{children:t?1:0}),id:e,label:Object(l.jsx)(c.a,{id:"ui-agreements.license.controllingLicense"}),children:t?Object(l.jsxs)("div",{children:[this.renderLicense(t),this.renderAmendments(t,B.i.FUTURE),this.renderAmendments(t,B.i.HISTORICAL)]}):Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.controllingLicense"})})})}}])&&N(t.prototype,n),r&&N(t,r),i}(o.a.Component);W.propTypes={agreement:a.a.shape({linkedLicenses:a.a.arrayOf(a.a.shape({amendments:a.a.arrayOf(a.a.shape({amendmentId:a.a.string.isRequired,note:a.a.string,status:a.a.shape({value:a.a.string})})),endDate:a.a.string,name:a.a.string,note:a.a.string,remoteId_object:a.a.shape({amendments:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired}))}),startDate:a.a.string,status:a.a.shape({value:a.a.string})}))}).isRequired,id:a.a.string};var J=n(2946);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,o=$(i);function i(){var e;K(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderExternalLicense=function(t){return Object(l.jsx)(J.a,H({onDownloadFile:e.props.handlers.onDownloadFile},t),t.id)},e.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.externalLicenses"})})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.id,t=Object(O.get)(this.props,"agreement.externalLicenseDocs",[]);return Object(l.jsx)(s.a,{displayWhenClosed:Object(l.jsx)(s.e,{children:t.length}),displayWhenOpen:Object(l.jsx)(s.e,{children:t.length}),id:e,label:Object(l.jsx)(c.a,{id:"ui-agreements.license.externalLicenses"}),children:t.length?t.map(this.renderExternalLicense):this.renderEmpty()})}}])&&X(t.prototype,n),r&&X(t,r),i}(o.a.Component);te.propTypes={agreement:a.a.shape({externalLicenseDocs:a.a.arrayOf(a.a.shape({dateCreated:a.a.string,lastUpdated:a.a.string,location:a.a.string,name:a.a.string.isRequired,note:a.a.string,url:a.a.string}))}),handlers:a.a.shape({onDownloadFile:a.a.func}).isRequired,id:a.a.string};var ne=n(8),re=n(27),oe=n(82),ie=n(2963),ae=n(2936),ce=n(2937);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.i.multipleOpenEnded.apply(P.i,t.concat(["ui-agreements.errors.multipleOpenEndedPeriods"]))},ye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.i.overlappingDates.apply(P.i,t.concat(["ui-agreements.errors.overlappingPeriod"]))},je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(a,e);var t,n,r,i=fe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).render=function(){var e=t.props,n=e.index,r=e.input.name;return Object(l.jsxs)("div",{children:[Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{xs:4,children:Object(l.jsx)(ne.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,id:"period-start-date-".concat(n),inputRef:t.inputRef,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.startDate"}),name:"".concat(r,".startDate"),required:!0,timeZone:"UTC",usePortal:!0,validate:Object(oe.a)(P.i.requiredStartDate,P.i.dateOrder,ye)})}),Object(l.jsx)(s.k,{xs:4,children:Object(l.jsx)(ne.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,id:"period-end-date-".concat(n),label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.endDate"}),name:"".concat(r,".endDate"),parse:function(e){return e},timeZone:"UTC",usePortal:!0,validate:Object(oe.a)(P.i.dateOrder,be,ye)})}),Object(l.jsx)(s.k,{xs:4,children:Object(l.jsx)(ne.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,id:"period-cancellation-deadline-".concat(n),label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.cancellationDeadline"}),name:"".concat(r,".cancellationDeadline"),parse:function(e){return e},timeZone:"UTC",usePortal:!0})})]}),Object(l.jsx)(ne.a,{component:s.yb,id:"period-note-".concat(n),label:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodNote"}),name:"".concat(r,".note"),parse:function(e){return e}})]})},t.inputRef=o.a.createRef(),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=Object(O.get)(this.props,"input.value");Object(O.isEmpty)(e)||e.id||!Object(O.get)(this.inputRef,"current")||this.inputRef.current.focus()}}])&&se(t.prototype,n),r&&se(t,r),a}(o.a.Component);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}je.propTypes={index:a.a.number.isRequired,input:a.a.shape({name:a.a.string.isRequired}).isRequired};var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(n,e);var t=ge(n);function n(){var e;he(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderPeriods=function(){var t=e.props,n=t.items,r=t.name;return n.map((function(t,n){return Object(l.jsx)(ae.a,{deleteButtonTooltipText:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.removePeriod",values:{periodNum:n+1}}),header:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodTitle",values:{number:n+1}}),onDelete:0!==n?function(){return e.props.onDeleteField(n,t)}:void 0,children:Object(l.jsx)(ne.a,{component:je,index:n,name:"".concat(r,"[").concat(n,"]")})},n)}))},e.render=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(s.D,{margin:"x-small",size:"large",tag:"h3",children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods"})}),Object(l.jsx)("div",{id:"agreement-form-periods",children:e.renderPeriods()}),Object(l.jsx)(s.f,{id:"add-period-button",onClick:function(){return e.props.onAddField()},children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.addPeriod"})})]})},e}return n}(o.a.Component);we.propTypes={items:a.a.arrayOf(a.a.object),name:a.a.string.isRequired,onAddField:a.a.func.isRequired,onDeleteField:a.a.func.isRequired},we.defaultProps={items:[]};var Pe=Object(ce.a)(we);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(i,e);var t,n,r,o=Le(i);function i(){var e;ke(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={agreementStatusValues:[],reasonForClosureValues:[],isPerpetualValues:[],renewalPriorityValues:[]},e.validateAsyncBackend=function(t,n,r){var o=e.props,i=o.handlers.onAsyncValidate,a=o.initialValues;return t&&t!==(void 0===a?{}:a)[r.name]?i("ui-agreements",B.j.AGREEMENTPATH,t,r):""},e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r={};return n.agreementStatusValues.length!==t.agreementStatusValues.length&&(r.agreementStatusValues=n.agreementStatusValues),n.renewalPriorityValues.length+1!==t.renewalPriorityValues.length&&(r.renewalPriorityValues=[{value:"",label:""}].concat(Se(n.renewalPriorityValues))),n.isPerpetualValues.length+1!==t.isPerpetualValues.length&&(r.isPerpetualValues=[{value:"",label:""}].concat(Se(n.isPerpetualValues))),n.reasonForClosureValues.length+1!==t.reasonForClosureValues.length&&(r.reasonForClosureValues=[{value:"",label:""}].concat(Se(n.reasonForClosureValues))),Object.keys(r).length?r:null}}],(n=[{key:"render",value:function(){var e=this,t=this.state,n=t.agreementStatusValues,r=t.isPerpetualValues,o=t.renewalPriorityValues,i=t.reasonForClosureValues,a=this.props.values;return Object(l.jsxs)("div",{children:[Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)(ne.a,{autoFocus:!0,component:s.zb,id:"edit-agreement-name",label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.name"}),maxLength:255,name:"name",required:!0,validate:Object(oe.a)(oe.c,this.validateAsyncBackend)})})}),Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)(ne.a,{component:s.yb,id:"edit-agreement-description",label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementDescription"}),name:"description",parse:function(e){return e}})})}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:6,xs:12,children:Object(l.jsx)(ne.a,{name:"agreementStatus",validate:oe.c,children:function(t){var r=t.input,o=t.meta;return Object(l.jsx)(s.vb,Ee(Ee({},r),{},{dataOptions:n,error:o&&o.touched&&o.error,id:"edit-agreement-status",label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementStatus"}),onChange:function(t){var n;r.onChange(t),a.reasonForClosure&&t.target.value!==B.i.CLOSED&&(n=Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{id:"ui-agreements.warn.clearReasonForClosure"})})),e.props.form.mutators.setFieldData("reasonForClosure",{warning:n})},placeholder:" ",required:!0}))}})}),Object(l.jsx)(s.k,{md:6,xs:12,children:Object(l.jsx)(ne.a,{component:s.vb,dataOptions:i,disabled:a.agreementStatus!==B.i.CLOSED,id:"edit-agreement-reason-for-closure",label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.reasonForClosure"}),name:"reasonForClosure",parse:function(e){return e}})})]}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:6,xs:12,children:Object(l.jsx)(ne.a,{component:s.vb,dataOptions:o,id:"edit-agreement-renewal-priority",label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.renewalPriority"}),name:"renewalPriority",parse:function(e){return e}})}),Object(l.jsx)(s.k,{md:6,xs:12,children:Object(l.jsx)(ne.a,{component:s.vb,dataOptions:r,id:"edit-agreement-is-perpetual",label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.isPerpetual"}),name:"isPerpetual",parse:function(e){return e}})})]}),Object(l.jsx)(re.a,{component:ie.a,name:"alternateNames"}),Object(l.jsx)(re.a,{component:Pe,name:"periods"})]})}}])&&Ce(t.prototype,n),r&&Ce(t,r),i}(o.a.Component);qe.propTypes={data:a.a.shape({agreementStatusValues:a.a.arrayOf(a.a.object),reasonForClosureValues:a.a.arrayOf(a.a.object),renewalPriorityValues:a.a.arrayOf(a.a.object),isPerpetualValues:a.a.arrayOf(a.a.object)}),form:a.a.shape({mutators:a.a.shape({setFieldData:a.a.func.isRequired}).isRequired}),handlers:a.a.shape({onAsyncValidate:a.a.func}),initialValues:a.a.object,values:a.a.object};var Ne=qe,Ie=n(2964);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(i,e);var t,n,r,o=Je(i);function i(){return Ve(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onToggle,r=e.open;return Object(l.jsx)(s.a,{id:t,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.internalContacts"}),onToggle:n,open:r,children:Object(l.jsx)(re.a,{component:Ie.a,contactRoles:this.props.data.contactRoleValues,isEmptyMessage:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.internalContacts"}),name:"contacts",users:this.props.data.users})})}}])&&Ue(t.prototype,n),r&&Ue(t,r),i}(o.a.Component);He.propTypes={id:a.a.string,onToggle:a.a.func,open:a.a.bool,data:a.a.shape({contactRoleValues:a.a.arrayOf(a.a.object),users:a.a.arrayOf(a.a.object)})};var Ge=n(2966);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var o=at(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(i,e);var t,n,r,o=ot(i);function i(){var e;tt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={warnings:[]},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.amendmentStatusValues,r=t.items,o=t.license,i=void 0===o?{}:o,a=t.name,u=i.amendments,f=void 0===u?[]:u;return r.length?Object(l.jsxs)("div",{children:[Object(l.jsx)(s.D,{margin:"x-small",size:"medium",tag:"h5",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.licenseAmendments"})}),r.map((function(t,r){var o,u,p=f.find((function(e){return t.amendmentId===e.id}))||{};return Object(l.jsxs)(s.i,{headerStart:Object(l.jsx)(g.a,{to:P.h.amendmentView(i.id,p.id),children:Object(l.jsx)("strong",{children:p.name})}),children:[Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:4,xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementStatus"}),value:null!==(o=null==p||null===(u=p.status)||void 0===u?void 0:u.label)&&void 0!==o?o:Object(l.jsx)(s.bb,{})})}),Object(l.jsx)(s.k,{md:4,xs:6,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.startDate"}),children:p.startDate?Object(l.jsx)(s.B,{value:p.startDate}):Object(l.jsx)(s.bb,{})})}),Object(l.jsx)(s.k,{md:4,xs:6,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.endDate"}),children:Object(l.jsx)(w.a,{license:p})})})]}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:4,xs:12,children:Object(l.jsx)(ne.a,{name:"".concat(a,"[").concat(r,"].status"),validate:oe.c,children:function(t){return Object(l.jsx)(s.vb,Qe(Qe({},t),{},{dataOptions:n,label:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.status"}),onChange:function(n){var o=n.target.value,i=P.b.amendmentWarning(Qe(Qe({},p),{},{statusForThisAgreement:{value:o}}));e.setState((function(e){var t=Xe(e.warnings);return t[r]=i,{warnings:t}})),t.input.onChange(n)},placeholder:" ",required:!0}))}})}),Object(l.jsx)(s.k,{md:8,xs:12,children:Object(l.jsx)(ne.a,{component:s.yb,label:Object(l.jsx)(c.a,{id:"ui-agreements.license.amendmentNote"}),name:"".concat(a,"[").concat(r,"].note"),parse:function(e){return e}})})]}),e.state.warnings[r]?Object(l.jsx)(s.T,{type:"warning",children:e.state.warnings[r]}):null]},p.id)}))]}):null}}])&&nt(t.prototype,n),r&&nt(t,r),i}(o.a.Component);ct.propTypes={amendmentStatusValues:a.a.arrayOf(a.a.object),form:a.a.shape({mutators:a.a.shape({setFieldData:a.a.func.isRequired}).isRequired}).isRequired,items:a.a.arrayOf(a.a.object),license:a.a.shape({amendments:a.a.arrayOf(a.a.shape({endDate:a.a.string,id:a.a.string.isRequired,name:a.a.string.isRequired,startDate:a.a.string,status:a.a.shape({label:a.a.string.isRequired,value:a.a.string.isRequired}).isRequired}))}),name:a.a.string.isRequired};var ut=Object(ce.a)(ct),st=n(2976),lt=n.n(st);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){if(t&&("object"===ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(i,e);var t,n,r,o=ht(i);function i(){var e;yt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderLinkLicenseButton=function(t){var n=e.props,r=n.id,o=n.input.name,i=n.onLicenseSelected;return Object(l.jsx)(v.h,{dataKey:r,onLicenseSelected:i,renderTrigger:function(n){e.triggerButton=n.buttonRef;var i={buttonStyle:t?"default":"primary",buttonRef:e.triggerButton,id:"".concat(r,"-find-license-btn"),marginBottom0:!0,name:o,onClick:n.onClick};return t?Object(l.jsx)(s.Cb,{id:"".concat(e.props.id,"-license-button-tooltip"),text:Object(l.jsx)(c.a,{id:"ui-agreements.license.replaceLicenseSpecific",values:{licenseName:Object(O.get)(e.props.license,"name")}}),triggerRef:e.triggerButton,children:function(e){var t=e.ariaIds;return Object(l.jsx)(s.f,dt(dt({"aria-labelledby":t.text},i),{},{children:Object(l.jsx)(c.a,{id:"ui-agreements.license.replaceLicense"})}))}}):Object(l.jsx)(s.f,dt(dt({},i),{},{children:Object(l.jsx)(c.a,{id:"ui-agreements.license.linkLicense"})}))},type:"find-license",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.noFindLicensePlugin"})})},e.renderLicense=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(x.a,{license:e.props.license})})},e.renderEmpty=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsx)("strong",{children:Object(l.jsx)(c.a,{id:"ui-agreements.license.noLicenseLinked"})})}),Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.linkLicenseToStart"})})]})},e.renderError=function(){return Object(l.jsx)(s.M,{className:"textCentered ".concat(lt.a.error),children:Object(l.jsx)("strong",{children:e.props.meta.error})})},e}return t=i,(n=[{key:"componentDidMount",value:function(){!this.props.input.value&&Object(O.get)(this.triggerButton,"current")&&this.triggerButton.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.input.value,r=e.meta,o=r.error,i=r.touched;return Object(l.jsxs)(s.i,{cardStyle:n?"positive":"negative",headerEnd:this.renderLinkLicenseButton(n),headerStart:Object(l.jsx)(v.b,{app:"licenses",size:"small",children:Object(l.jsx)("strong",{children:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.license"})})}),id:t,roundedBorder:!0,children:[n?this.renderLicense():this.renderEmpty(),i&&o?this.renderError():null]})}}])&&jt(t.prototype,n),r&&jt(t,r),i}(o.a.Component);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}vt.propTypes={id:a.a.string,input:a.a.shape({name:a.a.string,value:a.a.string}).isRequired,license:a.a.object,meta:a.a.shape({error:a.a.node,touched:a.a.bool}).isRequired,onLicenseSelected:a.a.func.isRequired},vt.defaultProps={license:{}};var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(i,e);var t,n,r,o=St(i);function i(){var e;wt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleLicenseSelected=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(n.amendments||[]).map((function(e){return{amendmentId:e.id}}));e.props.onUpdateField(t,{amendments:r,remoteId:n.id,remoteId_object:n})},e.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.agreementHasNone"})})},e.validateOnlyOneControllingLicense=function(t,n){var r=e.props.name;if("controlling"===t&&n[r].filter((function(e){return"controlling"===e.status})).length>1)return Object(l.jsx)(c.a,{id:"ui-agreements.license.error.multipleControllingLicenses"})},e.renderLicenseFields=function(){var t=e.props,n=t.amendmentStatusValues,r=t.form,o=t.items,i=t.licenseStatusValues,a=t.name,u=t.onDeleteField;return o.map((function(t,o){return Object(l.jsxs)(ae.a,{deleteBtnProps:{id:"license-delete-".concat(o),"data-test-delete-field-button":!0},deleteButtonTooltipText:Object(l.jsx)(c.a,{id:"ui-agreements.license.removeLicense",values:{index:o+1}}),header:Object(l.jsx)(c.a,{id:"ui-agreements.license.licenseIndex",values:{index:o+1}}),id:"".concat(a,"-remoteId-").concat(o,"-license-card"),onDelete:function(){return u(o,t)},children:[Object(l.jsx)(ne.a,{component:vt,id:"".concat(a,"-remoteId-").concat(o),index:o,license:t.remoteId_object,name:"".concat(a,"[").concat(o,"].remoteId"),onLicenseSelected:function(t){return e.handleLicenseSelected(o,t)},validate:oe.c}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:4,xs:12,children:Object(l.jsx)(ne.a,{component:s.vb,dataOptions:i,id:"".concat(a,"-status-").concat(o),label:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.status"}),name:"".concat(a,"[").concat(o,"].status"),placeholder:" ",required:!0,validate:Object(oe.a)(e.validateOnlyOneControllingLicense,oe.c)},o)}),Object(l.jsx)(s.k,{md:8,xs:12,children:Object(l.jsx)(ne.a,{component:s.yb,id:"".concat(a,"-note-").concat(o),label:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.note"}),name:"".concat(a,"[").concat(o,"].note"),parse:function(e){return e}})})]}),Object(l.jsx)(re.a,{amendmentStatusValues:n,component:ut,form:r,license:t.remoteId_object,name:"".concat(a,"[").concat(o,"].amendments")})]},o)}))},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.items,n=e.onAddField;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:t.length?this.renderLicenseFields():this.renderEmpty()}),Object(l.jsx)(s.f,{id:"add-license-btn",onClick:function(){return n()},children:Object(l.jsx)(c.a,{id:"ui-agreements.license.addLicense"})})]})}}])&&Pt(t.prototype,n),r&&Pt(t,r),i}(o.a.Component);Et.propTypes={amendmentStatusValues:a.a.arrayOf(a.a.object),form:a.a.object,items:a.a.arrayOf(a.a.object),name:a.a.string.isRequired,onAddField:a.a.func.isRequired,onDeleteField:a.a.func.isRequired,onUpdateField:a.a.func.isRequired,licenseStatusValues:a.a.arrayOf(a.a.object)};var Tt=Object(ce.a)(Et);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){if(t&&("object"===kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(i,e);var t,n,r,o=Bt(i);function i(){var e;Ct(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderNote=function(){return Object(l.jsx)(ne.a,{component:s.yb,id:"edit-agreement-licenseNote",label:Object(l.jsx)(c.a,{id:"ui-agreements.license.generalNotes"}),maxLength:255,name:"licenseNote",parse:function(e){return e}})},e.renderLinkedLicenses=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(s.J,{label:Object(l.jsx)(s.D,{margin:"x-small",size:"large",tag:"h4",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.allLicenses"})}),children:Object(l.jsx)(re.a,{amendmentStatusValues:e.props.data.amendmentStatusValues,component:Tt,form:e.props.form,licenseStatusValues:e.props.data.licenseLinkStatusValues,name:"linkedLicenses"})})})},e.renderExternalLicenses=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(s.J,{label:Object(l.jsx)(s.D,{margin:"x-small",size:"large",tag:"h4",children:Object(l.jsx)(c.a,{id:"ui-agreements.license.externalLicenses"})}),children:Object(l.jsx)(re.a,{addDocBtnLabel:Object(l.jsx)(c.a,{id:"ui-agreements.license.addExternalLicense"}),component:Ge.a,deleteBtnTooltipMsgId:"ui-agreements.doc.removeExternalLicense",isEmptyMessage:Object(l.jsx)(c.a,{id:"ui-agreements.license.noExternalLicenses"}),name:"externalLicenseDocs",onDownloadFile:e.props.handlers.onDownloadFile,onUploadFile:e.props.handlers.onUploadFile})})})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onToggle,r=e.open;return Object(l.jsxs)(s.a,{id:t,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.licenseInfo"}),onToggle:n,open:r,children:[this.renderNote(),this.renderLinkedLicenses(),this.renderExternalLicenses()]})}}])&&At(t.prototype,n),r&&At(t,r),i}(o.a.Component);Nt.propTypes={data:a.a.shape({agreement:a.a.object,amendmentStatusValues:a.a.arrayOf(a.a.object),licenseLinkStatusValues:a.a.arrayOf(a.a.object)}),form:a.a.object,handlers:a.a.object,id:a.a.string,onToggle:a.a.func,open:a.a.bool};var It=n(993),Mt=n(2949),Vt=n(2940),Ut=n(863),Wt=n(2995),Jt=n(2974),zt=n(2977),Yt=n(2979),Ht=n(2993),Gt=n(2994);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){if(t&&("object"===Kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(a,e);var t,n,r,i=Qt(a);function a(){var e;Xt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).validateDateOrder=function(e,t,n){if(e&&n){var r,o;if(n.name.indexOf("activeFrom")>=0)r=e,o=Object(O.get)(t,n.name.replace("activeFrom","activeTo"));else{if(!(n.name.indexOf("activeTo")>=0))return;r=Object(O.get)(t,n.name.replace("activeTo","activeFrom")),o=e}if(r&&o&&new Date(r)>=new Date(o))return Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{id:"ui-agreements.errors.endDateGreaterThanStartDate"})})}},e.renderLineName=function(e){var t=Object(O.get)(e,"_object.pti.titleInstance",e);return Object(l.jsx)(Jt.a,{eresource:t})},e.renderLineType=function(e){return Object(l.jsx)(Mt.a,{resource:e})},e.renderLineTitles=function(e){return Object(l.jsx)(zt.a,{resource:e})},e.renderLineProvider=function(e){return Object(l.jsx)(Yt.a,{resource:e})},e.renderCoverage=function(e){return Object(l.jsx)(Vt.a,{statements:e.coverage})},e.renderPOLinesFieldArray=function(){var t=e.props,n=t.index,r=t.input.name,o=t.poLines;return Object(l.jsx)(re.a,{agreementLineIndex:n,component:Gt.a,name:"".concat(r,".poLines"),poLines:o})},e.renderCustomCoverageFieldArray=function(){var t=e.props,n=t.input.name,r=t.resource;return Object(Ut.a)(r)||Object(P.f)(r)?null:Object(l.jsx)(re.a,{addButtonId:"add-agreement-custom-coverage-button",addLabelId:"ui-agreements.agreementLines.addCustomCoverage",component:Ht.a,deleteButtonTooltipId:"ui-agreements.agreementLines.removeCustomCoverage",headerId:"ui-agreements.agreementLines.customCoverageTitle",id:"agreement-form-custom-coverages",name:"".concat(n,".coverage")})},e.renderDescription=function(e){var t;return Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.description"}),children:Object(l.jsx)("div",{children:null!==(t=null==e?void 0:e.description)&&void 0!==t?t:Object(l.jsx)(s.bb,{})})})},e.renderResourceInfo=function(t){var n=e.props.input.value,r=void 0===n?{}:n;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:5,xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.name"}),children:Object(l.jsx)("div",{children:e.renderLineName(t)})})}),Object(l.jsx)(s.k,{md:2,xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.publicationType"}),children:Object(l.jsx)("div",{children:e.renderLineType(t)})})}),Object(l.jsx)(s.k,{md:2,xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.titles"}),children:Object(l.jsx)("div",{children:e.renderLineTitles(t)})})}),Object(l.jsx)(s.k,{md:3,xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.provider"}),children:Object(l.jsx)("div",{children:e.renderLineProvider(t)})})})]}),r.description&&Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:4,children:e.renderDescription(r)})}),Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:4,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.defaultCoverage"}),children:Object(l.jsx)("div",{children:e.renderCoverage(t)})})})})]})},e.renderLineResource=function(){var t=e.props,n=t.resource,r=void 0===n?{}:n,o=t.index,i=t.input.name;return Object(l.jsxs)("div",{children:[Object(P.e)(r)?e.renderDescription(r):e.renderResourceInfo(r),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:4,xs:12,children:Object(l.jsx)(ne.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,id:"agreement-line-".concat(o,"-active-from"),label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.activeFrom"}),name:"".concat(i,".activeFrom"),parse:function(e){return e},timeZone:"UTC",usePortal:!0,validate:e.validateDateOrder})}),Object(l.jsx)(s.k,{md:4,xs:12,children:Object(l.jsx)(ne.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,id:"agreement-line-".concat(o,"-active-to"),label:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.activeTo"}),name:"".concat(i,".activeTo"),parse:function(e){return e},timeZone:"UTC",usePortal:!0,validate:e.validateDateOrder})})]}),Object(l.jsx)(ne.a,{component:s.yb,id:"agreement-line-".concat(o,"-note"),label:Object(l.jsx)(c.a,{id:"ui-agreements.note"}),name:"".concat(i,".note"),parse:function(e){return e}}),e.renderPOLinesFieldArray(),!Object(P.e)(r)&&e.renderCustomCoverageFieldArray()]})},e.renderLineSelector=function(){var t=e.props,n=t.input.name,r=t.meta.error;return Object(l.jsx)(Wt.a,{addButtonLabel:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.createLine"}),autoFocus:!0,basket:e.props.basket,error:o.a.isValidElement(r)?r:void 0,fullWidth:!0,inlineButton:!0,label:Object(l.jsx)(c.a,{id:"ui-agreements.basketSelector.selectLabel"}),name:"".concat(n,".basketSelector"),onAdd:function(t){return e.props.onResourceSelected(e.props.index,t)},required:!0})},e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.index,n=e.resource,r=void 0===n?{}:n;return Object(l.jsx)(ae.a,{deleteButtonTooltipText:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.removeLine",values:{index:t+1}}),header:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.lineTitle",values:{number:t+1}}),onDelete:this.props.onDelete,children:Object(l.jsx)(l.Fragment,{children:r.id||r.reference?this.renderLineResource():this.renderLineSelector()})})}}])&&Zt(t.prototype,n),r&&Zt(t,r),a}(o.a.Component);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ln(e);if(t){var o=ln(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nn.propTypes={basket:a.a.arrayOf(a.a.object),index:a.a.number,input:a.a.shape({name:a.a.string.isRequired,value:a.a.shape({description:a.a.string})}).isRequired,meta:a.a.shape({error:a.a.oneOfType([a.a.node,a.a.object])}).isRequired,onDelete:a.a.func,onResourceSelected:a.a.func,poLines:a.a.arrayOf(a.a.object),resource:a.a.object},nn.defaultProps={resource:{}};var fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(i,e);var t,n,r,o=un(i);function i(){var e;on(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).getLineResource=function(t){var n=e.props.data.agreementLines;if(t.resource)return t.resource;if(t.id){var r=n.find((function(e){return e.id===t.id}));if(r)return"detached"===r.type||Object(P.f)(r)?r:r.resource}return Object(P.f)(t)?t:void 0},e.handleResourceSelected=function(t,n){e.props.onReplaceField(t,{resource:n})},e.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.noLines"})})},e.renderLines=function(){return e.props.items.map((function(t,n){return Object(l.jsx)(ne.a,{basket:e.props.data.basket,component:nn,index:n,name:"".concat(e.props.name,"[").concat(n,"]"),onDelete:function(){return e.props.onDeleteField(n,t)},onResourceSelected:e.handleResourceSelected,poLines:e.props.data.orderLines||[],resource:e.getLineResource(t),validate:oe.d},n)}))},e}return t=i,(n=[{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{id:"agreement-form-lines",children:this.props.items.length?this.renderLines():this.renderEmpty()}),Object(l.jsx)(It.default,{children:Object(l.jsx)(s.f,{id:"add-agreement-line-button",onClick:function(){return e.props.onAddField()},children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.addLine"})})})]})}}])&&an(t.prototype,n),r&&an(t,r),i}(o.a.Component);fn.propTypes={data:a.a.shape({basket:a.a.arrayOf(a.a.object),agreementLines:a.a.arrayOf(a.a.object),orderLines:a.a.arrayOf(a.a.object)}),items:a.a.arrayOf(a.a.object),name:a.a.string.isRequired,onAddField:a.a.func.isRequired,onDeleteField:a.a.func.isRequired,onReplaceField:a.a.func.isRequired};var pn=Object(ce.a)(fn);function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=On(e);if(t){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){if(t&&("object"===dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(i,e);var t,n,r,o=mn(i);function i(){return bn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.id,r=e.onToggle,o=e.open;return Object(l.jsx)(s.a,{id:n,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementLines"}),onToggle:r,open:o,children:Object(l.jsx)(re.a,{component:pn,data:t,name:"items"})})}}])&&yn(t.prototype,n),r&&yn(t,r),i}(o.a.Component);gn.propTypes={id:a.a.string,onToggle:a.a.func,open:a.a.bool,data:a.a.shape({basket:a.a.arrayOf(a.a.object),agreementLines:a.a.arrayOf(a.a.object)})};var vn=n(2965);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dn(e);if(t){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}function _n(e,t){if(t&&("object"===xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(i,e);var t,n,r,o=Sn(i);function i(){return wn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.id,r=e.onToggle,o=e.open,i=Object(l.jsx)(c.a,{id:"ui-agreements.organizations.addOrganizationToAgreement"});return Object(l.jsx)(s.a,{id:n,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.organizations"}),onToggle:r,open:o,children:Object(l.jsx)(re.a,{addOrganizationBtnLabel:i,component:vn.a,isEmptyMessage:Object(l.jsx)(c.a,{id:"ui-agreements.organizations.agreementHasNone"}),name:"orgs",roles:t.orgRoleValues,uniqueRole:"vendor"})})}}])&&Pn(t.prototype,n),r&&Pn(t,r),i}(o.a.Component);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=In(e);if(t){var o=In(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}En.propTypes={data:a.a.shape({orgRoleValues:a.a.arrayOf(a.a.object)}),id:a.a.string,onToggle:a.a.func,open:a.a.bool};var Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(i,e);var t,n,r,o=qn(i);function i(){var e;Ln(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderLinkAgreementButton=function(t){var n=e.props,r=n.id,o=n.input.name,i=n.onAgreementSelected;return Object(l.jsx)(v.h,{dataKey:r,onAgreementSelected:i,renderTrigger:function(n){e.triggerButton=n.buttonRef;var i=Object(O.get)(e.props.agreement,"name"),a={"aria-haspopup":"true",buttonRef:e.triggerButton,buttonStyle:t?"default":"primary",id:"".concat(r,"-find-agreement-btn"),marginBottom0:!0,name:o,onClick:n.onClick};return t?Object(l.jsx)(s.Cb,{id:"".concat(e.props.id,"-license-button-tooltip"),text:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.replaceAgreementSpecific",values:{agreementName:i}}),triggerRef:e.triggerButton,children:function(e){var t=e.ariaIds;return Object(l.jsx)(s.f,Cn(Cn({"aria-labelledby":t.text},a),{},{children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.replaceAgreement"})}))}}):Object(l.jsx)(s.f,Cn(Cn({},a),{},{children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.linkAgreement"})}))},type:"find-agreement",children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.noPlugin"})})},e.renderAgreement=function(){var t,n,r=e.props.agreement;return Object(l.jsxs)("div",{children:[Object(l.jsx)(g.a,{to:P.h.agreementView(r.id),children:r.name}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{md:4,xs:6,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.startDate"}),value:r.startDate?Object(l.jsx)(s.B,{value:r.startDate}):Object(l.jsx)(s.bb,{})})}),Object(l.jsx)(s.k,{md:4,xs:6,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.endDate"}),value:r.endDate?Object(l.jsx)(s.B,{value:r.endDate}):Object(l.jsx)(s.bb,{})})}),Object(l.jsx)(s.k,{md:4,xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementStatus"}),value:null!==(t=null==r||null===(n=r.agreementStatus)||void 0===n?void 0:n.label)&&void 0!==t?t:Object(l.jsx)(s.bb,{})})})]})]})},e.renderEmpty=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsx)("strong",{children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.noneLinked"})})}),Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.linkToStart"})})]})},e.renderError=function(){return Object(l.jsx)(s.M,{className:"textCentered ".concat(lt.a.error),children:Object(l.jsx)("strong",{children:e.props.meta.error})})},e}return t=i,(n=[{key:"componentDidMount",value:function(){!Object(O.get)(this.props,"input.value.id")&&Object(O.get)(this.triggerButton,"current")&&this.triggerButton.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.input.value,r=e.meta,o=r.error,i=r.touched;return Object(l.jsxs)(s.i,{cardStyle:n?"positive":"negative",headerEnd:this.renderLinkAgreementButton(n),headerStart:Object(l.jsx)(v.b,{app:"agreements",size:"small",children:Object(l.jsx)("strong",{children:Object(l.jsx)(c.a,{id:"ui-agreements.agreement"})})}),id:t,roundedBorder:!0,children:[n?this.renderAgreement():this.renderEmpty(),i&&o?this.renderError():null]})}}])&&Bn(t.prototype,n),r&&Bn(t,r),i}(o.a.Component);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yn(e);if(t){var o=Yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zn(this,n)}}function zn(e,t){if(t&&("object"===Vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Mn.propTypes={id:a.a.string,input:a.a.shape({name:a.a.string,value:a.a.oneOfType([a.a.string,a.a.object])}).isRequired,meta:a.a.shape({error:a.a.node,touched:a.a.bool}).isRequired,onAgreementSelected:a.a.func.isRequired,agreement:a.a.shape({agreementStatus:a.a.shape({label:a.a.string}),endDate:a.a.string,id:a.a.string,name:a.a.string,label:a.a.string,startDate:a.a.string})},Mn.defaultProps={agreement:{}};var Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(i,e);var t,n,r,o=Jn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleAgreementSelected=function(e,n){t.props.onUpdateField(e,{agreement:n})},t.validateSelfLinking=function(e){if(e&&e.id===t.props.currentAgreementId)return Object(l.jsx)(c.a,{id:"ui-agreements.errors.cannotLinkAgreementToItself"})},t.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.agreementHasNone"})})},t.renderRelationshipSummary=function(e){var n=e.agreement,r=void 0===n?{}:n,o=e.type;if(!r.id||!o)return null;var i=r.name,a=t.relationshipTypes.find((function(e){return e.value===o})).label,u=t.props.currentAgreementName,f="ui-agreements.relatedAgreements.".concat(u?"relationshipSummary":"relationshipSummaryForNewAgreement");return Object(l.jsx)(s.T,{children:Object(l.jsx)(c.a,{id:f,values:{source:i,relationship:a,target:u}})})},t.renderRelatedAgreements=function(e){return e.map((function(e,n){return Object(l.jsxs)(ae.a,{deleteBtnProps:{id:"ra-delete-".concat(n),"data-test-delete-field-button":!0},deleteButtonTooltipText:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.remove",values:{index:n+1}}),header:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.relatedAgreementIndex",values:{index:n+1}}),id:"edit-ra-card-".concat(n),onDelete:function(){return t.props.onDeleteField(n,e)},children:[Object(l.jsx)(ne.a,{agreement:e.agreement,component:Mn,id:"ra-agreement-".concat(n),index:n,name:"".concat(t.props.name,"[").concat(n,"].agreement"),onAgreementSelected:function(e){return t.handleAgreementSelected(n,e)},validate:Object(oe.a)(oe.c,t.validateSelfLinking)}),Object(l.jsx)(ne.a,{component:s.vb,dataOptions:t.relationshipTypes,disabled:!Object(O.get)(e,"agreement.id"),id:"ra-type-".concat(n),label:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.relationshipToThisAgreement"}),name:"".concat(t.props.name,"[").concat(n,"].type"),required:!0,validate:oe.c}),t.renderRelationshipSummary(e),Object(l.jsx)(ne.a,{component:s.yb,id:"ra-note-".concat(n),label:Object(l.jsx)(c.a,{id:"ui-agreements.note"}),name:"".concat(t.props.name,"[").concat(n,"].note"),parse:function(e){return e}})]},n)}))},t.relationshipTypes=[{label:"",value:""}],B.a.forEach((function(e){t.relationshipTypes.push(e.outward),e.outward.label!==e.inward.label&&t.relationshipTypes.push(e.inward)})),t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.items,n=e.onAddField;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:t.length?this.renderRelatedAgreements(t):this.renderEmpty()}),Object(l.jsx)(s.f,{id:"add-ra-btn",onClick:function(){return n()},children:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.addRelatedAgreement"})})]})}}])&&Un(t.prototype,n),r&&Un(t,r),i}(o.a.Component);Hn.propTypes={currentAgreementId:a.a.string,currentAgreementName:a.a.string,items:a.a.arrayOf(a.a.object),name:a.a.string.isRequired,onAddField:a.a.func.isRequired,onDeleteField:a.a.func.isRequired,onUpdateField:a.a.func.isRequired};var Gn=Object(ce.a)(Hn);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tr(e);if(t){var o=tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return er(this,n)}}function er(e,t){if(t&&("object"===Kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(i,e);var t,n,r,o=Qn(i);function i(){return Xn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onToggle,r=e.open,o=e.values,i=void 0===o?{}:o;return Object(l.jsx)(s.a,{id:t,label:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements"}),onToggle:n,open:r,children:Object(l.jsx)(re.a,{component:Gn,currentAgreementId:i.id,currentAgreementName:i.name,name:"relatedAgreements"})})}}])&&Zn(t.prototype,n),r&&Zn(t,r),i}(o.a.Component);function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sr(e);if(t){var o=sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ur(this,n)}}function ur(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nr.propTypes={id:a.a.string,onToggle:a.a.func,open:a.a.bool,values:a.a.shape({id:a.a.string,name:a.a.string})};var lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(i,e);var t,n,r,o=cr(i);function i(){return or(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.handlers,r=e.id,o=e.onToggle,i=e.open;return Object(l.jsx)(s.a,{id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryDocuments"}),onToggle:o,open:i,children:Object(l.jsx)(re.a,{addDocBtnLabel:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryDocs.addSupplementaryDoc"}),component:Ge.a,deleteBtnTooltipMsgId:"ui-agreements.doc.removeSupplementaryInformation",documentCategories:t.documentCategories,isEmptyMessage:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryDocs.agreementHasNone"}),name:"supplementaryDocs",onDownloadFile:n.onDownloadFile,onUploadFile:n.onUploadFile})})}}])&&ir(t.prototype,n),r&&ir(t,r),i}(o.a.Component);lr.propTypes={data:a.a.shape({documentCategories:a.a.arrayOf(a.a.object)}).isRequired,handlers:a.a.shape({onDownloadFile:a.a.func.isRequired,onUploadFile:a.a.func.isRequired}),id:a.a.string,onToggle:a.a.func,open:a.a.bool};var fr=n(2954);function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hr(e);if(t){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mr(this,n)}}function mr(e,t){if(t&&("object"===pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(i,e);var t,n,r,o=jr(i);function i(){return dr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onToggle,r=e.open,o=e.data.supplementaryProperties,i=void 0===o?[]:o;return Object(l.jsx)(s.a,{id:t,label:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryProperties"}),onToggle:n,open:r,children:Object(l.jsx)(fr.a,{customProperties:i,name:"customProperties",optionalSectionLabel:Object(l.jsx)(s.D,{margin:"x-small",size:"large",tag:"h4",children:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryProperties.optionalProperties"})}),primarySectionLabel:Object(l.jsx)(s.D,{margin:"x-small",size:"large",tag:"h4",children:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryProperties.primaryProperties"})}),translationKey:"supplementaryProperty"})})}}])&&br(t.prototype,n),r&&br(t,r),i}(o.a.Component);Or.propTypes={data:a.a.object,id:a.a.string,onToggle:a.a.func,open:a.a.bool};var gr=Or;function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tr(e);if(t){var o=Tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){if(t&&("object"===vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tr(e){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(i,e);var t,n,r,o=Dr(i);function i(){var e;Rr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderLinkUDPButton=function(t){return Object(l.jsx)(v.h,{dataKey:"udp",onUDPSelected:e.props.onUDPSelected,renderTrigger:function(n){e.triggerButton=n.buttonRef;var r=Object(O.get)(e.props.udp,"label"),o={"aria-haspopup":"true",buttonRef:e.triggerButton,buttonStyle:t?"default":"primary",id:"udp-".concat(e.props.index,"-search-button"),marginBottom0:!0,name:e.props.input.name,onClick:n.onClick};return t?Object(l.jsx)(s.Cb,{id:"".concat(e.props.id,"-usageDataProvider-button-tooltip"),text:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.replaceUDPSpecific",values:{UDPName:r}}),triggerRef:e.triggerButton,children:function(e){var t=e.ariaIds;return Object(l.jsx)(s.f,wr(wr({"aria-labelledby":t.text},o),{},{children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.replaceUDP"})}))}}):Object(l.jsx)(s.f,wr(wr({},o),{},{children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.linkUDP"})}))},type:"find-erm-usage-data-provider",children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.noUDPPlugin"})})},e.renderUDP=function(){var t=e.props.udp;return Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.viewUDP.name"}),children:Object(l.jsx)("span",{children:t.label})})},e.renderEmpty=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsx)("strong",{children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.noUDPLinked"})})}),Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.linkUDPToStart"})})]})},e.renderError=function(){return Object(l.jsx)(s.M,{className:"textCentered ".concat(lt.a.error),children:Object(l.jsx)("strong",{children:e.props.meta.error})})},e}return t=i,(n=[{key:"componentDidMount",value:function(){!Object(O.get)(this.props,"input.value")&&Object(O.get)(this.triggerButton,"current")&&this.triggerButton.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.input.value,r=e.meta,o=r.error,i=r.touched;return Object(l.jsxs)(s.i,{cardStyle:n?"positive":"negative",headerEnd:this.renderLinkUDPButton(n),headerStart:Object(l.jsx)(v.b,{app:"erm-usage",size:"small",children:Object(l.jsx)("strong",{children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.usageDataProvider"})})}),id:t,roundedBorder:!0,children:[n?this.renderUDP():this.renderEmpty(),i&&o?this.renderError():null]})}}])&&Sr(t.prototype,n),r&&Sr(t,r),i}(o.a.Component);function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach((function(t){Br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(e,t){if(t&&("object"===Cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}kr.propTypes={id:a.a.string,index:a.a.number.isRequired,input:a.a.shape({name:a.a.string,onChange:a.a.func.isRequired,value:a.a.string}).isRequired,meta:a.a.shape({error:a.a.node,touched:a.a.bool}).isRequired,onUDPSelected:a.a.func.isRequired,udp:a.a.shape({label:a.a.string})},kr.defaultProps={udp:{}};var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(i,e);var t,n,r,o=Ir(i);function i(){var e;Fr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={udps:{}},e.handleUDPSelected=function(t,n){e.props.onUpdateField(t,{remoteId:n.id}),e.setState((function(e){return{udps:Lr(Lr({},e.udps),{},Br({},n.id,n))}}))},e.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.agreementHasNone"})})},e.renderUDPFields=function(t){return t.map((function(t,n){return Object(l.jsxs)(ae.a,{deleteBtnProps:{id:"udp-delete-".concat(n),"data-test-delete-field-button":!0},deleteButtonTooltipText:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.removeUsageDataProvider",values:{index:n+1}}),header:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.usageDataProviderIndex",values:{index:n+1}}),id:"edit-udp-card-".concat(n),onDelete:function(){return e.props.onDeleteField(n,t)},children:[Object(l.jsx)(ne.a,{component:kr,id:"udp-remoteId-".concat(n),index:n,name:"".concat(e.props.name,"[").concat(n,"].remoteId"),onUDPSelected:function(t){return e.handleUDPSelected(n,t)},udp:e.state.udps[t.remoteId]||t.remoteId_object,validate:oe.c}),Object(l.jsx)(ne.a,{component:s.yb,id:"udp-note-".concat(n),label:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.note"}),name:"".concat(e.props.name,"[").concat(n,"].usageDataProviderNote"),parse:function(e){return e}})]},n)}))},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.items,n=e.onAddField;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:t.length?this.renderUDPFields(t):this.renderEmpty()}),Object(l.jsx)(s.f,{id:"add-udp-btn",onClick:function(){return n()},children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.addUDP"})})]})}}])&&qr(t.prototype,n),r&&qr(t,r),i}(o.a.Component);Ur.propTypes={items:a.a.arrayOf(a.a.object),name:a.a.string.isRequired,onAddField:a.a.func.isRequired,onDeleteField:a.a.func.isRequired,onUpdateField:a.a.func.isRequired};var Wr=Object(ce.a)(Ur);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(e,t){if(t&&("object"===Jr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(i,e);var t,n,r,o=Gr(i);function i(){return zr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onToggle,r=e.open;return Object(l.jsx)(s.a,{id:t,label:Object(l.jsx)(c.a,{id:"ui-agreements.usageData"}),onToggle:n,open:r,children:Object(l.jsx)(re.a,{component:Wr,name:"usageDataProviders"})})}}])&&Yr(t.prototype,n),r&&Yr(t,r),i}(o.a.Component);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oo(e);if(t){var o=oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ro(this,n)}}function ro(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Zr.propTypes={id:a.a.string,onToggle:a.a.func,open:a.a.bool};var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(i,e);var t,n,r,o=no(i);function i(){return Qr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.license,r=Object(P.c)(n),o=n.remoteId_object||{};return Object(l.jsxs)(s.i,{cardStyle:"positive",headerStart:Object(l.jsx)(v.b,{app:"licenses",size:"small",children:Object(l.jsx)(g.a,{to:P.h.licenseView(o.id),children:Object(l.jsx)("strong",{children:o.name})})}),id:t,roundedBorder:!0,children:[Object(l.jsx)(x.a,{license:o,renderName:!1}),n.note&&Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.license.prop.note"}),children:n.note}),r.length?Object(l.jsx)(L,{amendments:r,id:t?"".concat(t,"-amendments"):void 0,license:o,renderNotes:!0}):null]},n.id)}}])&&eo(t.prototype,n),r&&eo(t,r),i}(o.a.Component);function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=po(e);if(t){var o=po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fo(this,n)}}function fo(e,t){if(t&&("object"===ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}io.propTypes={id:a.a.string,license:a.a.shape({amendments:a.a.arrayOf(a.a.shape({amendmentId:a.a.string.isRequired,note:a.a.string,status:a.a.shape({value:a.a.string})})),endDate:a.a.string,id:a.a.string,name:a.a.string,note:a.a.string,remoteId_object:a.a.shape({amendments:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired}))}),startDate:a.a.string,status:a.a.shape({value:a.a.string})})};var bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}(i,e);var t,n,r,o=lo(i);function i(){var e;co(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderLicense=function(e,t){return Object(l.jsx)(io,{id:"agreement-future-license-".concat(t),license:e},e.id)},e.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.futureLicenses"})})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.id,t=Object(O.get)(this.props,"agreement.linkedLicenses",[]).filter((function(e){return Object(O.get)(e,"status.value")===B.i.FUTURE}));return Object(l.jsx)(s.a,{displayWhenClosed:Object(l.jsx)(s.e,{children:t.length}),displayWhenOpen:Object(l.jsx)(s.e,{children:t.length}),id:e,label:Object(l.jsx)(c.a,{id:"ui-agreements.license.futureLicenses"}),children:t.length?t.map(this.renderLicense):this.renderEmpty()})}}])&&uo(t.prototype,n),r&&uo(t,r),i}(o.a.Component);bo.propTypes={agreement:a.a.shape({linkedLicenses:a.a.arrayOf(a.a.shape({id:a.a.string,status:a.a.shape({value:a.a.string})}))}).isRequired,id:a.a.string};var yo=n(2998),jo=n.n(yo);function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wo(e);if(t){var o=wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xo(this,n)}}function xo(e,t){if(t&&("object"===mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Po=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(i,e);var t,n,r,o=vo(i);function i(){var e;ho(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderVendor=function(){var t=e.props.agreement.orgs,n=(void 0===t?[]:t).find((function(e){return"vendor"===Object(O.get)(e,"role.value")}));return Object(O.get)(n,"org.name",Object(l.jsx)(c.a,{id:"ui-agreements.notSet"}))},e}return t=i,(n=[{key:"render",value:function(){var e,t,n=this.props.agreement,r=n.startDate,o=n.endDate;return Object(l.jsxs)(s.sb,{className:jo.a.agreementHeader,children:[Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.startDate"}),children:Object(l.jsx)("div",{children:r?Object(l.jsx)(s.B,{value:r}):Object(l.jsx)(s.bb,{})})})}),Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.endDate"}),children:Object(l.jsx)("div",{children:o?Object(l.jsx)(s.B,{value:o}):Object(l.jsx)(s.bb,{})})})}),Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementStatus"}),children:Object(l.jsx)("div",{children:null!==(e=null==n||null===(t=n.agreementStatus)||void 0===t?void 0:t.label)&&void 0!==e?e:Object(l.jsx)(s.bb,{})})})}),Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.vendor"}),children:Object(l.jsx)("div",{children:this.renderVendor()})})})]})}}])&&Oo(t.prototype,n),r&&Oo(t,r),i}(o.a.Component);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ko(e);if(t){var o=ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return To(this,n)}}function To(e,t){if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Po.propTypes={agreement:a.a.shape({agreementStatus:a.a.shape({label:a.a.string}),endDate:a.a.string,orgs:a.a.arrayOf(a.a.shape({org:a.a.shape({name:a.a.string}),role:a.a.shape({value:a.a.string})})),startDate:a.a.string}).isRequired};var Co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(i,e);var t,n,r,o=Eo(i);function i(){var e;So(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderLicense=function(e,t){return Object(l.jsx)(io,{id:"agreement-historical-license-".concat(t),license:e},e.id)},e.renderEmpty=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.historicalLicenses"})})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.id,t=Object(O.get)(this.props,"agreement.linkedLicenses",[]).filter((function(e){return Object(O.get)(e,"status.value")===B.i.HISTORICAL}));return Object(l.jsx)(s.a,{displayWhenClosed:Object(l.jsx)(s.e,{children:t.length}),displayWhenOpen:Object(l.jsx)(s.e,{children:t.length}),id:e,label:Object(l.jsx)(c.a,{id:"ui-agreements.license.historicalLicenses"}),children:t.length?t.map(this.renderLicense):this.renderEmpty()})}}])&&_o(t.prototype,n),r&&_o(t,r),i}(o.a.Component);function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Co.propTypes={agreement:a.a.shape({linkedLicenses:a.a.arrayOf(a.a.shape({id:a.a.string,status:a.a.shape({value:a.a.string})}))}).isRequired,id:a.a.string};var Bo=function(e){var t,n=e.periods,o=(void 0===n?[]:n).reduce((function(e,t){return t.periodStatus&&(e[t.periodStatus]=t),e}),{}),i=Ao(Object(r.useState)("current"),2),a=i[0],u=i[1],f=o.current,p=o.next,d=!!f,b=!!p;Object(r.useEffect)((function(){d||u((function(){return b?"next":"previous"}))}),[d,b]);var y=o[a],j=function(e){return Object(l.jsx)(s.f,{buttonStyle:a===e?"primary":"default",disabled:!o[e],onClick:function(){return u(e)},children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.".concat(e)})})};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)("div",{children:Object(l.jsx)(s.D,{size:"large",tag:"h3",children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.period"})})})})}),Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsxs)(s.g,{children:[j("previous"),j("current"),j("next")]})})})}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodStart"}),children:Object(l.jsx)("div",{children:null!=y&&y.startDate?Object(l.jsx)(s.B,{value:null==y?void 0:y.startDate}):Object(l.jsx)(s.bb,{})})})}),Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodEnd"}),children:Object(l.jsx)("div",{children:null!=y&&y.endDate?Object(l.jsx)(s.B,{value:null==y?void 0:y.endDate}):Object(l.jsx)(s.bb,{})})})}),Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.cancellationDeadline"}),children:Object(l.jsx)("div",{children:null!=y&&y.cancellationDeadline?Object(l.jsx)(s.B,{value:null==y?void 0:y.cancellationDeadline}):Object(l.jsx)(s.bb,{})})})})]}),Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodNote"}),children:Object(l.jsx)("div",{children:null!==(t=null==y?void 0:y.note)&&void 0!==t?t:Object(l.jsx)(s.bb,{})})})})})]})},Fo=Bo;Bo.propTypes={periods:a.a.arrayOf(a.a.shape({cancellationDeadline:a.a.string,endDate:a.a.string,periodStatus:a.a.string,startDate:a.a.string.isRequired}))};var qo=function(e){var t,n,r,o,i,a,u,f,p=e.agreement;return Object(l.jsxs)("div",{children:[Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)("div",{children:Object(l.jsx)(s.D,{size:"xx-large",tag:"h2",children:p.name})})})}),Object(l.jsxs)(s.sb,{children:[Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.isPerpetual"}),children:Object(l.jsx)("div",{children:null!==(t=null==p||null===(n=p.isPerpetual)||void 0===n?void 0:n.label)&&void 0!==t?t:Object(l.jsx)(s.bb,{})})})}),Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.renewalPriority"}),children:Object(l.jsx)("div",{children:null!==(r=null==p||null===(o=p.renewalPriority)||void 0===o?void 0:o.label)&&void 0!==r?r:Object(l.jsx)(s.bb,{})})})}),(null==p||null===(i=p.agreementStatus)||void 0===i?void 0:i.value)===B.i.CLOSED&&Object(l.jsx)(s.k,{xs:3,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.reasonForClosure"}),children:Object(l.jsx)("div",{children:null!==(a=null==p||null===(u=p.reasonForClosure)||void 0===u?void 0:u.label)&&void 0!==a?a:Object(l.jsx)(s.bb,{})})})})]}),Object(l.jsx)(s.sb,{children:Object(l.jsx)(s.k,{xs:12,children:Object(l.jsx)(s.J,{label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementDescription"}),children:Object(l.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:p.description||Object(l.jsx)(s.bb,{})})})})}),0!==(null==p||null===(f=p.alternateNames)||void 0===f?void 0:f.length)&&Object(l.jsx)(s.W,{columnMapping:{name:Object(l.jsx)(c.a,{id:"ui-agreements.alternativeNames"})},contentData:p.alternateNames,visibleColumns:["name"]}),Object(l.jsx)(Fo,{periods:p.periods})]})},No=qo;qo.propTypes={agreement:a.a.shape({agreementStatus:a.a.shape({label:a.a.string,value:a.a.string}),alternateNames:a.a.arrayOf(a.a.object),cancellationDeadline:a.a.string,currentPeriod:a.a.shape({note:a.a.string}),description:a.a.string,isPerpetual:a.a.shape({label:a.a.string}),name:a.a.string,reasonForClosure:a.a.shape({label:a.a.string}),periods:a.a.arrayOf(a.a.shape({cancellationDeadline:a.a.string,endDate:a.a.string,periodStatus:a.a.string,startDate:a.a.string.isRequired})),renewalPriority:a.a.shape({label:a.a.string})})};var Io=n(2945);function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yo(e);if(t){var o=Yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zo(this,n)}}function zo(e,t){if(t&&("object"===Mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(i,e);var t,n,r,o=Jo(i);function i(){var e;Vo(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderBadge=function(){var t=Object(O.get)(e.props,"agreement.contacts.length",0);return Object(l.jsx)(s.e,{children:t})},e.renderContacts=function(){var t=e.props.agreement.contacts,n=void 0===t?[]:t;return n.length?n.map((function(e){return Object(l.jsx)(Io.a,{contact:e},e.id)})):Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.internalContacts"})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.id;return Object(l.jsx)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:e,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.internalContacts"}),children:this.renderContacts()})}}])&&Uo(t.prototype,n),r&&Uo(t,r),i}(o.a.Component);Ho.propTypes={agreement:a.a.shape({contacts:a.a.arrayOf(a.a.shape({id:a.a.string}))}).isRequired,id:a.a.string};var Go=n(2939),Ko=n(2942),Xo=n(2975),Zo=n(2984);function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ri(e);if(t){var o=ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ni(this,n)}}function ni(e,t){if(t&&("object"===$o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(a,e);var t,n,r,i=ti(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).columnMapping={name:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.name"}),issn:Object(l.jsx)(c.a,{id:"ui-agreements.identifier.eissn.issn"}),platform:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.platform"}),package:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.package"}),coverage:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),isCustomCoverage:" ",accessStart:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.accessStart"}),accessEnd:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.accessEnd"})},t.columnWidths={name:250,platform:150,package:150,coverage:{min:250,max:320}},t.formatter={name:function(e){var t,n,r,o=null==e||null===(t=e._object)||void 0===t||null===(n=t.pti)||void 0===n||null===(r=n.titleInstance)||void 0===r?void 0:r.name;return Object(l.jsx)(g.a,{to:P.h.eresourceView(e.id),children:o})},issn:function(e){var t=Object(O.get)(e._object,"pti.titleInstance",{});return Object(Go.a)(t,"eissn")||Object(Go.a)(t,"pissn")},platform:function(e){var t,n,r=null!==(t=null==e||null===(n=e._object)||void 0===n?void 0:n.pti)&&void 0!==t?t:{},o=r.name,i=r.platform,a=r.url;return Object(l.jsx)(Ko.a,{id:e.id,name:o,platform:null==i?void 0:i.name,url:a})},package:function(e){var t,n,r;return null!==(t=null==e||null===(n=e._object)||void 0===n||null===(r=n.pkg)||void 0===r?void 0:r.name)&&void 0!==t?t:Object(l.jsx)(s.bb,{})},coverage:function(e){return Object(l.jsx)(Xo.a,{eResource:e})},accessStart:function(e){var n;return t.renderDate(null===(n=e._object)||void 0===n?void 0:n.accessStart)},accessEnd:function(e){var n;return t.renderDate(null===(n=e._object)||void 0===n?void 0:n.accessEnd)},isCustomCoverage:function(e){return e.customCoverage?Object(l.jsx)(s.Cb,{id:"covered-eresources-cc-tooltip-".concat(e.rowIndex),text:Object(l.jsx)(c.a,{id:"ui-agreements.customcoverages.tooltip"}),children:function(e){var t=e.ref,n=e.ariaIds;return Object(l.jsx)(Zo.a,{ref:t,"aria-labelledby":n.text})}}):""}},t.visibleColumns=["name","issn","platform","package","coverage","isCustomCoverage","accessStart","accessEnd"],t.export=function(e){var n=t.callout.current.sendCallout({message:Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.preparingExport"}),timeout:0});e().then((function(){return t.callout.current.removeCallout(n)}))},t.renderDate=function(e){return e?Object(l.jsx)(s.B,{value:e}):""},t.renderExportDropdown=function(e){return Object(l.jsx)(s.q,{buttonProps:{"data-test-export-button":!0,disabled:e,marginBottom0:!0},label:Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.exportAs"}),children:Object(l.jsxs)(s.s,{role:"menu",children:[Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.exportAsJSON",children:function(e){return Object(l.jsx)(s.f,{"aria-label":e,buttonStyle:"dropdownItem",id:"clickable-dropdown-export-eresources-json",onClick:function(){return t.export(t.props.onExportEResourcesAsJSON)},role:"menuitem",children:Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.json"})})}}),Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.exportAsJSON",children:function(e){return Object(l.jsx)(s.f,{"aria-label":e,buttonStyle:"dropdownItem",id:"clickable-dropdown-export-eresources-kbart",onClick:function(){return t.export(t.props.onExportEResourcesAsKBART)},role:"menuitem",children:Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.kbart"})})}})]})})},t.renderFilterButton=function(e){return Object(l.jsx)(s.f,{buttonStyle:t.props.eresourcesFilterPath===e?"primary":"default",id:"clickable-pci-".concat(e),marginBottom0:!0,onClick:function(){return t.props.onFilterEResources(e)},children:Object(l.jsx)(c.a,{id:"ui-agreements.content.".concat(e)})})},t.renderFilterButtons=function(){return Object(l.jsx)(s.M,{className:"textCentered",children:Object(l.jsxs)(s.g,{children:[t.renderFilterButton("current"),t.renderFilterButton("future"),t.renderFilterButton("dropped"),t.renderFilterButton("all")]})})},t.renderList=function(){var e=t.props,n=e.agreement,r=n.eresources,o=n.eresourcesCount,i=e.onNeedMoreEResources;return Object(l.jsx)(s.W,{columnMapping:t.columnMapping,columnWidths:t.columnWidths,contentData:r,formatter:t.formatter,id:"eresources-covered",interactive:!1,onNeedMoreData:i,pageAmount:B.h.RESULT_COUNT_INCREMENT,pagingType:"click",totalCount:o,visibleColumns:t.visibleColumns})},t.callout=o.a.createRef(),t}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement,n=t.eresources,r=t.lines,o=e.eresourcesFilterPath,i="dropped"===o||"future"===o;return null!=r&&r.length?Object(l.jsxs)(It.default,{children:[Object(l.jsx)(s.M,{className:"marginTop1",children:Object(l.jsx)(s.D,{margin:"small",tag:"h4",children:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.eresourcesCovered"})})}),Object(l.jsxs)(s.sb,{end:"xs",children:[Object(l.jsx)(s.k,{md:9,xs:12,children:this.renderFilterButtons()}),Object(l.jsxs)(s.k,{md:3,xs:12,children:[this.renderExportDropdown(i),i?Object(l.jsx)(s.Cb,{id:"covered-eresources-export-tooltip",placement:"top",text:Object(l.jsx)(c.a,{id:"ui-agreements.eresourcesCovered.exportButton.tooltip"}),children:function(e){var t=e.ref,n=e.ariaIds;return Object(l.jsx)(s.G,{ref:t,"aria-labelledby":n.text,icon:"exclamation-circle",tabIndex:"0"})}}):""]})]}),n?this.renderList():Object(l.jsx)(s.xb,{}),Object(l.jsx)(s.h,{ref:this.callout})]}):null}}])&&Qo(t.prototype,n),r&&Qo(t,r),a}(o.a.Component);function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fi(e);if(t){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){if(t&&("object"===ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}oi.propTypes={agreement:a.a.shape({eresources:a.a.arrayOf(a.a.object),eresourcesCount:a.a.number,lines:a.a.arrayOf(a.a.object)}).isRequired,eresourcesFilterPath:a.a.string,onFilterEResources:a.a.func.isRequired,onExportEResourcesAsJSON:a.a.func.isRequired,onExportEResourcesAsKBART:a.a.func.isRequired,onNeedMoreEResources:a.a.func.isRequired};var pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(i,e);var t,n,r,o=si(i);function i(){var e;ai(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).columnWidths={name:250,provider:150,coverage:{min:250,max:320}},e.columnMapping={name:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.nameDescription"}),provider:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.provider"}),publicationType:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.publicationType"}),count:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.count"}),note:Object(l.jsx)(c.a,{id:"ui-agreements.note"}),coverage:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),isCustomCoverage:" ",activeFrom:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.activeFrom"}),activeTo:Object(l.jsx)(c.a,{id:"ui-agreements.eresources.activeTo"}),poLines:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.polines"})},e.formatter={name:function(e){var t=Object(P.d)(e);return t?Object(P.e)(t)?t.description:Object(l.jsx)(Jt.a,{eresource:t}):e.label},provider:function(e){return Object(l.jsx)(Yt.a,{resource:e.resource||e})},publicationType:function(e){var t=Object(P.d)(e);return Object(P.e)(t)?Object(l.jsx)(s.bb,{}):Object(l.jsx)(Mt.a,{resource:t})},activeFrom:function(t){return Object(l.jsx)("div",{children:e.renderDate(t.startDate)})},activeTo:function(t){return Object(l.jsx)("div",{children:e.renderDate(t.endDate)})},count:function(e){return Object(l.jsx)(zt.a,{resource:Object(P.d)(e)})},note:function(e){return Object(l.jsx)("div",{style:{overflowWrap:"break-word",maxWidth:250,whiteSpace:"pre-wrap"},children:e.note})},coverage:function(e){return Object(l.jsx)(Xo.a,{line:e})},isCustomCoverage:function(e){return e.customCoverage?Object(l.jsx)(s.Cb,{id:"agreement-line-cc-tooltip-".concat(e.rowIndex),text:Object(l.jsx)(c.a,{id:"ui-agreements.customcoverages.tooltip"}),children:function(e){var t=e.ref,n=e.ariaIds;return Object(l.jsx)(Zo.a,{ref:t,"aria-labelledby":n.text})}}):""},poLines:function(t){return Object(l.jsx)(v.f,{perm:"orders.po-lines.collection.get",children:function(n){var r;return n.hasPermission?e.renderPOLines(t):null!=t&&null!==(r=t.poLines)&&void 0!==r&&r.length?Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.noPoLinePerm"}):null}})}},e.visibleColumns=["name","provider","publicationType","count","note","coverage","isCustomCoverage","activeFrom","activeTo","poLines"],e.renderDate=function(e){return e?Object(l.jsx)(s.B,{value:e}):""},e.renderPOLines=function(t){var n=e.props.agreement.orderLines;if(!t.poLines||!t.poLines.length)return"";if(!n||!n.length)return Object(l.jsx)(s.xb,{});var r=t.poLines.map((function(e){return n.find((function(t){return t.id===e.poLineId}))}));return r.length?Object(l.jsx)("div",{children:r.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return e.id?Object(l.jsx)(s.Cb,{id:"tooltip-".concat(t.id,"-").concat(e.id),placement:"left",text:e.titleOrPackage,children:function(t){var n=t.ref,r=t.ariaIds;return Object(l.jsx)("div",{ref:n,"aria-labelledby":r.text,children:Object(l.jsx)(g.a,{to:P.h.poLineView(e.id),children:e.poLineNumber})})}},e.id):Object(l.jsx)(s.xb,{},n)}))}):Object(l.jsx)(s.xb,{})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement,n=t.agreementLinesCount,r=t.lines,o=t.orderLines,i=e.onViewAgreementLine,a=e.onNeedMoreLines;return r?Object(l.jsx)(s.W,{columnMapping:this.columnMapping,columnWidths:this.columnWidths,contentData:r,formatter:this.formatter,id:"agreement-lines",isEmptyMessage:Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.agreementLines"}),onNeedMoreData:a,onRowClick:function(e,t){"A"!==e.target.tagName&&i(t.id)},pagingType:"click",rowUpdater:function(){return o.map((function(e){return e.id}))},totalCount:n,visibleColumns:this.visibleColumns}):Object(l.jsx)(s.xb,{})}}])&&ci(t.prototype,n),r&&ci(t,r),i}(o.a.Component);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t){return(ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oi(e);if(t){var o=Oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hi(this,n)}}function hi(e,t){if(t&&("object"===di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oi(e){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}pi.propTypes={agreement:a.a.shape({agreementLinesCount:a.a.number,lines:a.a.arrayOf(a.a.object),orderLines:a.a.arrayOf(a.a.object)}).isRequired,onViewAgreementLine:a.a.func.isRequired,onNeedMoreLines:a.a.func.isRequired};var gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(i,e);var t,n,r,o=mi(i);function i(){var e;bi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderAddAgreementLineButton=function(){return Object(l.jsx)(v.f,{perm:"ui-agreements.agreements.edit",children:Object(l.jsx)(s.f,{id:"add-agreement-line-button",to:P.h.agreementLineCreate(e.props.agreement.id),children:Object(l.jsx)(c.a,{id:"ui-agreements.agreementLines.addLine"})})})},e.renderBadge=function(){var t,n=null===(t=e.props.agreement)||void 0===t?void 0:t.agreementLinesCount;return void 0!==n?Object(l.jsx)(s.e,{children:n}):Object(l.jsx)(s.xb,{})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement,n=e.eresourcesFilterPath,r=e.handlers,o=e.id;return Object(l.jsxs)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderAddAgreementLineButton(),id:o,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.agreementLines"}),children:[Object(l.jsx)(pi,{agreement:t,onNeedMoreLines:r.onNeedMoreLines,onViewAgreementLine:r.onViewAgreementLine}),Object(l.jsx)(oi,{agreement:t,eresourcesFilterPath:n,onExportEResourcesAsJSON:r.onExportEResourcesAsJSON,onExportEResourcesAsKBART:r.onExportEResourcesAsKBART,onFilterEResources:r.onFilterEResources,onNeedMoreEResources:r.onNeedMoreEResources})]})}}])&&yi(t.prototype,n),r&&yi(t,r),i}(o.a.Component);gi.propTypes={agreement:a.a.shape({agreementLinesCount:a.a.number,eresources:a.a.arrayOf(a.a.object),id:a.a.string,lines:a.a.arrayOf(a.a.object),orderLines:a.a.arrayOf(a.a.object)}).isRequired,eresourcesFilterPath:a.a.string,handlers:a.a.shape({onExportEResourcesAsJSON:a.a.func.isRequired,onExportEResourcesAsKBART:a.a.func.isRequired,onFilterEResources:a.a.func.isRequired,onNeedMoreEResources:a.a.func.isRequired,onNeedMoreLines:a.a.func.isRequired,onViewAgreementLine:a.a.func.isRequired}).isRequired,id:a.a.string};var vi=n(2943);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Di(e);if(t){var o=Di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _i(this,n)}}function _i(e,t){if(t&&("object"===xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ri(e,t)}(i,e);var t,n,r,o=Si(i);function i(){var e;wi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderOrganizations=function(){var t=e.props.agreement.orgs;return(void 0===t?[]:t).map((function(t){var n=t.interfaces,r=t.note,o=t.org,i=t.role;return o&&i?Object(l.jsx)(vi.a,{fetchCredentials:e.props.handlers.onFetchCredentials,headerStart:Object(l.jsx)("span",{children:Object(l.jsxs)(v.b,{app:"organizations",size:"small",children:[Object(l.jsx)(g.a,{to:P.h.orgView(o.orgsUuid),children:Object(l.jsx)("strong",{children:o.name})})," Â· ".concat(i.label)]})}),interfaces:n,note:r},"".concat(o.orgsUuid,"-").concat(i.value)):null}))},e.renderNoOrganizations=function(){return Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.organizations"})},e.renderBadge=function(){var t=Object(O.get)(e.props.agreement,"orgs.length",0);return Object(l.jsx)(s.e,{children:t})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement.orgs,n=void 0===t?[]:t,r=e.id;return Object(l.jsx)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.organizations"}),children:Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:n.length?this.renderOrganizations():this.renderNoOrganizations()})})}}])&&Pi(t.prototype,n),r&&Pi(t,r),i}(o.a.Component);Ei.propTypes={agreement:a.a.shape({orgs:a.a.arrayOf(a.a.shape({interfaces:a.a.arrayOf(a.a.object),note:a.a.string,org:a.a.shape({name:a.a.string.isRequired,orgsUuid:a.a.string}).isRequired,role:a.a.shape({label:a.a.string.isRequired,value:a.a.string.isRequired}).isRequired}))}).isRequired,handlers:a.a.shape({onFetchCredentials:a.a.func}),id:a.a.string};var Ti=function(e){var t=e.agreement.periods,n=void 0===t?[]:t,r=e.id,o={startDate:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodStart"}),endDate:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodEnd"}),cancellationDeadline:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.cancellationDeadline"}),note:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodNote"})},i={startDate:function(e){return e.startDate?Object(l.jsx)(s.B,{value:e.startDate}):Object(l.jsx)(s.bb,{})},endDate:function(e){return e.endDate?Object(l.jsx)(s.B,{value:e.endDate}):Object(l.jsx)(s.bb,{})},cancellationDeadline:function(e){return e.cancellationDeadline?Object(l.jsx)(s.B,{value:e.cancellationDeadline}):Object(l.jsx)(s.bb,{})},note:function(e){return e.note||""}};return n.length>1?Object(l.jsx)(s.a,{displayWhenClosed:Object(l.jsx)(s.e,{children:n.length}),displayWhenOpen:Object(l.jsx)(s.e,{children:n.length}),id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreementPeriods.allPeriods"}),children:Object(l.jsx)(s.W,{columnMapping:o,contentData:n,formatter:i,id:"agreement-periods-list",interactive:!1,visibleColumns:["startDate","endDate","cancellationDeadline","note"]})}):null},ki=Ti;function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ni(e);if(t){var o=Ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qi(this,n)}}function qi(e,t){if(t&&("object"===Ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ti.propTypes={agreement:a.a.shape({periods:a.a.arrayOf(a.a.shape({cancellationDeadline:a.a.string,endDate:a.a.string,note:a.a.string,startDate:a.a.string})),currentPeriod:a.a.shape({id:a.a.string})}).isRequired,id:a.a.string};var Ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(i,e);var t,n,r,o=Fi(i);function i(){var e;Ai(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderRelatedAgreements=function(){return e.props.agreement.relatedAgreements.map((function(t,n){return Object(l.jsxs)(s.i,{cardStyle:"positive",headerStart:Object(l.jsx)(v.b,{app:"agreements",size:"small",children:Object(l.jsx)(g.a,{to:"".concat(P.h.agreementView(t.agreement.id)).concat(e.props.searchString),children:Object(l.jsx)("strong",{children:t.agreement.name})})}),id:"ra-card-".concat(t.agreement.id),roundedBorder:!0,children:[Object(l.jsx)(s.J,{"data-props-ra-relationship":!0,label:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.relationship"}),value:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements.relationship.".concat(t.type),values:{agreement:e.props.agreement.name}})}),Object(l.jsx)(s.J,{"data-props-ra-note":!0,label:Object(l.jsx)(c.a,{id:"ui-agreements.note"}),children:t.note||Object(l.jsx)(s.bb,{})})]},n)}))},e.renderEmpty=function(){return Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.relatedAgreements"})},e.renderBadge=function(){return Object(l.jsx)(s.e,{children:Object(O.get)(e.props.agreement,"relatedAgreements.length",0)})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement.relatedAgreements,n=void 0===t?[]:t,r=e.id;return Object(l.jsx)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.relatedAgreements"}),children:n.length?this.renderRelatedAgreements():this.renderEmpty()})}}])&&Li(t.prototype,n),r&&Li(t,r),i}(o.a.Component);function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ki(e);if(t){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gi(this,n)}}function Gi(e,t){if(t&&("object"===Mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ii.propTypes={agreement:a.a.shape({name:a.a.string,relatedAgreements:a.a.arrayOf(a.a.shape({agreement:a.a.shape({agreementStatus:a.a.shape({label:a.a.string.isRequired}).isRequired,endDate:a.a.string,id:a.a.string,name:a.a.string,startDate:a.a.string}).isRequired,note:a.a.string,type:a.a.string.isRequired}))}).isRequired,id:a.a.string,searchString:a.a.string};var Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(i,e);var t,n,r,o=Hi(i);function i(){var e;Ji(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderDocs=function(t){return t.map((function(t){return Object(l.jsx)(J.a,Ui({onDownloadFile:e.props.handlers.onDownloadFile},t),t.id)}))},e.renderBadge=function(){var t=Object(O.get)(e.props.agreement,"supplementaryDocs.length");return Object(l.jsx)(s.e,{children:t})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement.supplementaryDocs,n=void 0===t?[]:t,r=e.id;return Object(l.jsx)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.supplementaryDocuments"}),children:n.length?this.renderDocs(n):Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.supplementaryDocuments"})})}}])&&zi(t.prototype,n),r&&zi(t,r),i}(o.a.Component);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ra(e);if(t){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return na(this,n)}}function na(e,t){if(t&&("object"===Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Xi.propTypes={handlers:a.a.shape({onDownloadFile:a.a.func}),agreement:a.a.shape({supplementaryDocs:a.a.arrayOf(a.a.shape({dateCreated:a.a.string,lastUpdated:a.a.string,location:a.a.string,name:a.a.string.isRequired,note:a.a.string,url:a.a.string}))}),id:a.a.string};var oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(i,e);var t,n,r,o=ta(i);function i(){var e;$i(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderTermsList=function(t){var n=t.remoteId_object;return Object(l.jsx)(u.a,{customProperties:e.props.data.terms,resource:n})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.agreement.linkedLicenses,n=void 0===t?[]:t,r=e.id,o=n.find((function(e){return"controlling"===e.status.value}));return Object(l.jsx)(s.a,{id:r,label:Object(l.jsx)(c.a,{id:"ui-agreements.agreements.licenseAndBusTerms"}),children:o?this.renderTermsList(o):Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.licenseAndBusinessTerms"})})}}])&&Qi(t.prototype,n),r&&Qi(t,r),i}(o.a.Component);function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t){return(ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fa(e);if(t){var o=fa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return la(this,n)}}function la(e,t){if(t&&("object"===ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}oa.propTypes={agreement:a.a.shape({linkedLicenses:a.a.arrayOf(a.a.shape({remoteId_object:a.a.object.isRequired,status:a.a.shape({value:a.a.string}).isRequired}))}),data:a.a.shape({terms:a.a.arrayOf(a.a.object)}),id:a.a.string};var pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(i,e);var t,n,r,o=sa(i);function i(){var e;aa(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderUDPs=function(){return e.props.agreement.usageDataProviders.map((function(e,t){return Object(l.jsx)(s.i,{cardStyle:"positive",headerStart:Object(l.jsx)(v.b,{app:"erm-usage",size:"small",children:Object(l.jsx)(g.a,{to:P.h.udpView(e.remoteId),children:Object(l.jsx)("strong",{children:Object(O.get)(e,"remoteId_object.label",e.remoteId)})})}),id:"udp-card-".concat(e.remoteId),roundedBorder:!0,children:Object(l.jsx)(s.J,{"data-props-udp-note":!0,label:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.note"}),children:e.usageDataProviderNote||Object(l.jsx)(s.bb,{})})},t)}))},e.renderNoPermission=function(){return Object(l.jsx)(s.M,{className:"padding-bottom-gutter",children:Object(l.jsx)(c.a,{id:"ui-agreements.usageData.noUsageDetailsPerm"})})},e.renderEmpty=function(){return Object(l.jsx)(c.a,{id:"ui-agreements.emptyAccordion.usageData"})},e.renderBadge=function(){return Object(l.jsx)(s.e,{children:Object(O.get)(e.props.agreement,"usageDataProviders.length",0)})},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.agreement.usageDataProviders,r=void 0===n?[]:n,o=t.id;return Object(l.jsx)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:o,label:Object(l.jsx)(c.a,{id:"ui-agreements.usageData"}),children:Object(l.jsx)(v.f,{perm:"usagedataproviders.collection.get",children:function(t){return t.hasPermission?r.length?e.renderUDPs():e.renderEmpty():e.renderNoPermission()}})})}}])&&ca(t.prototype,n),r&&ca(t,r),i}(o.a.Component);pa.propTypes={agreement:a.a.shape({usageDataProviders:a.a.arrayOf(a.a.shape({remoteId:a.a.string.isRequired,remoteId_object:a.a.shape({label:a.a.string}).isRequired,usageDataProviderNote:a.a.string}))}).isRequired,id:a.a.string}},2997:function(e,t,n){e.exports={tooltipIcon:"tooltipIcon---MiGiH"}},2998:function(e,t,n){e.exports={agreementHeader:"agreementHeader---1uma3"}}}]);