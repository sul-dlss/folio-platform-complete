(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{2763:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return R}));var o=r(3),n=r.n(o),a=r(1),s=r.n(a),i=r(4),u=r(7),c=r(9),l=r(1394),p=r(1395),f=r(1218),h=r(2973),d=r(415),m=r(0);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=O(e);if(t){var n=O(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,r,o,n=j(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e)).handleNeedMoreData=function(){t.source&&t.source.fetchMore(100)},t.querySetter=function(e){var r=e.nsValues;t.props.mutator.query.update(r)},t.queryGetter=function(){return Object(i.get)(t.props.resources,"query",{})},t.logger=e.stripes.logger,t.state={hasPerms:e.stripes.hasPerm("ui-agreements.agreements.view")},t}return t=a,(r=[{key:"componentDidMount",value:function(){this.source=new c.G(this.props,this.logger,"agreements")}},{key:"componentDidUpdate",value:function(e){var t=this.source.totalCount(),r=this.source.records();if(1===t){var o=this.props,n=o.history,a=o.location,s=new c.G(e,this.logger,"agreements"),i=s.totalCount(),u=s.records();if(1!==i||1===i&&u[0].id!==r[0].id){var l=r[0];n.push("".concat(d.h.agreementView(l.id)).concat(a.search))}}}},{key:"render",value:function(){var e,t,r=this.props,o=r.children,n=r.location,a=r.resources;return this.source&&this.source.update(this.props,"agreements"),this.state.hasPerms?Object(m.jsx)(f.a,{data:{agreements:Object(i.get)(a,"agreements.records",[]),agreementStatusValues:Object(i.get)(a,"agreementStatusValues.records",[]),renewalPriorityValues:Object(i.get)(a,"renewalPriorityValues.records",[]),isPerpetualValues:Object(i.get)(a,"isPerpetualValues.records",[]),contactRoleValues:Object(i.get)(a,"contactRoleValues.records",[]),orgRoleValues:Object(i.get)(a,"orgRoleValues.records",[]),supplementaryProperties:null!==(e=null==a||null===(t=a.supplementaryProperties)||void 0===t?void 0:t.records)&&void 0!==e?e:[],tagsValues:Object(i.get)(a,"tagsValues.records",[])},history:this.props.history,onNeedMoreData:this.handleNeedMoreData,queryGetter:this.queryGetter,querySetter:this.querySetter,searchString:n.search,source:this.source,children:o}):Object(m.jsx)(h.a,{})}}])&&g(t.prototype,r),o&&g(t,o),a}(n.a.Component);P.manifest=Object.freeze({agreements:{type:"okapi",path:"erm/sas",records:"results",recordsRequired:"%{resultCount}",perRequest:100,limitParam:"perPage",params:Object(l.a)({searchKey:"name,alternateNames.name,description",filterKeys:{agreementStatus:"agreementStatus.value",contacts:"contacts.user",contactRole:"contacts.role",isPerpetual:"isPerpetual.value",orgs:"orgs.org",renewalPriority:"renewalPriority.value",role:"orgs.role",tags:"tags.value"}})},agreementStatusValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreement/agreementStatus",shouldRefresh:function(){return!1}},renewalPriorityValues:{limitParam:"perPage",type:"okapi",path:"erm/refdata/SubscriptionAgreement/renewalPriority",perRequest:100,shouldRefresh:function(){return!1}},isPerpetualValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreement/isPerpetual",shouldRefresh:function(){return!1}},contactRoleValues:{type:"okapi",path:"erm/refdata/InternalContact/role",limitParam:"perPage",perRequest:100,shouldRefresh:function(){return!1}},orgRoleValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreementOrg/role",shouldRefresh:function(){return!1}},supplementaryProperties:{type:"okapi",path:"erm/custprops",shouldRefresh:Object(p.a)({agreement:["DELETE"]})},tagsValues:{type:"okapi",path:"tags",params:{limit:"1000",query:"cql.allRecords=1 sortby label"},records:"tags"},basket:{initialValue:[]},query:{initialValue:{}},resultCount:{initialValue:100}}),P.propTypes={children:s.a.node,history:s.a.shape({push:s.a.func.isRequired}).isRequired,location:s.a.shape({pathname:s.a.string,search:s.a.string}).isRequired,match:s.a.shape({params:s.a.shape({id:s.a.string})}),mutator:s.a.object,resources:s.a.object,stripes:s.a.shape({hasPerm:s.a.func.isRequired,logger:s.a.object})};var R=Object(u.o)(P)},2973:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r(3);var o=r(29),n=r(2),a=r(0),s=function(){return Object(a.jsxs)(n.M,{className:"textCentered",children:[Object(a.jsx)("h2",{children:Object(a.jsx)(o.a,{id:"stripes-smart-components.permissionError"})}),Object(a.jsx)("p",{children:Object(a.jsx)(o.a,{id:"stripes-smart-components.permissionsDoNotAllowAccess"})})]})}}}]);