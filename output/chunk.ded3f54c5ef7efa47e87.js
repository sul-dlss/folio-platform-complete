(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2975:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(3),o=n.n(r),a=n(1),i=n.n(a),c=n(2941),s=n(2940),u=n(2),l=n(29),p=n(0);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o=m(a);function a(){return f(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"renderEdition",value:function(e){return e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.a,{id:"ui-agreements.coverage.editionShort"}),Object(p.jsx)("div",{children:e})]}):null}},{key:"renderVolume",value:function(e){return e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.a,{id:"ui-agreements.coverage.volumeShort"}),Object(p.jsx)("div",{children:e})]}):null}},{key:"renderCoverage",value:function(e){var t,n,r,o,a,i,c=null==e||null===(t=e.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n?void 0:n.dateMonographPublished,s=null==e||null===(r=e.pti)||void 0===r||null===(o=r.titleInstance)||void 0===o?void 0:o.monographVolume,l=null==e||null===(a=e.pti)||void 0===a||null===(i=a.titleInstance)||void 0===i?void 0:i.monographEdition;return c||s||l?Object(p.jsxs)(u.M,{className:"full",children:[Object(p.jsx)("div",{children:c}),Object(p.jsxs)("div",{children:[this.renderEdition(l),s&&l?Object(p.jsx)(p.Fragment,{children:"Â "}):null,this.renderVolume(s)]})]}):null}},{key:"render",value:function(){var e,t,n=this.props.pci;return null==n||null===(e=n.pti)||void 0===e||null===(t=e.titleInstance)||void 0===t||t.name,n?Object(p.jsx)(u.M,{className:"full",children:this.renderCoverage(n)}):null}}])&&b(t.prototype,n),r&&b(t,r),a}(o.a.Component);h.propTypes={pci:i.a.shape({pti:i.a.shape({titleInstance:i.a.shape({dateMonographPublished:i.a.string,monographVolume:i.a.string,monographEdition:i.a.string,name:i.a.string})}).isRequired})};var O=n(416);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o=P(a);function a(){return x(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e,t,n,r,o,a,i,l,d,f,b,j=this.props,m=j.pci,y=j.line,v=j.eResource,g=!1;if(m)(null==m||null===(i=m.pti)||void 0===i||null===(l=i.titleInstance)||void 0===l||null===(d=l.type)||void 0===d?void 0:d.value)===O.g.MONOGRAPH&&(g=!0),o=m,a=null==m?void 0:m.embargo;else if(y){var x,w,k,P,T,E,_,S;(null==y||null===(x=y.resource)||void 0===x||null===(w=x._object)||void 0===w||null===(k=w.pti)||void 0===k||null===(P=k.titleInstance)||void 0===P||null===(T=P.type)||void 0===T?void 0:T.value)===O.g.MONOGRAPH?(g=!0,o=null==y||null===(E=y.resource)||void 0===E?void 0:E._object):(o=y,a=null==y||null===(_=y.resource)||void 0===_||null===(S=_._object)||void 0===S?void 0:S.embargo)}else if((null==v||null===(e=v._object)||void 0===e||null===(t=e.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.value)===O.g.MONOGRAPH)g=!0,o=null==v?void 0:v._object;else{var R;o=v,a=null==v||null===(R=v._object)||void 0===R?void 0:R.embargo}return g?Object(p.jsxs)("div",{children:[Object(p.jsx)(h,{pci:o}),Object(p.jsx)(c.a,{embargo:null===(f=o)||void 0===f?void 0:f.embargo})]}):Object(p.jsxs)(u.M,{className:"full",children:[Object(p.jsx)(s.a,{statements:null===(b=o)||void 0===b?void 0:b.coverage}),Object(p.jsx)(c.a,{embargo:a})]})}}])&&w(t.prototype,n),r&&w(t,r),a}(o.a.Component);_.propTypes={pci:i.a.shape({embargo:i.a.shape({movingWallStart:i.a.shape({length:i.a.number,unit:i.a.string}),movingWallEnd:i.a.shape({length:i.a.number,unit:i.a.string})}),pti:i.a.shape({titleInstance:i.a.shape({dateMonographPublished:i.a.string,monographVolume:i.a.string,monographEdition:i.a.string,name:i.a.string,type:i.a.shape({value:i.a.string})})})}),line:i.a.shape({resource:i.a.shape({_object:i.a.shape({embargo:i.a.shape({movingWallStart:i.a.shape({length:i.a.number,unit:i.a.string}),movingWallEnd:i.a.shape({length:i.a.number,unit:i.a.string})}),pci:i.a.shape({pti:i.a.shape({titleInstance:i.a.shape({dateMonographPublished:i.a.string,monographVolume:i.a.string,monographEdition:i.a.string,name:i.a.string,type:i.a.shape({value:i.a.string})})})}),pti:i.a.shape({titleInstance:i.a.shape({type:i.a.shape({value:i.a.string})})})})})}),eResource:i.a.shape({_object:i.a.shape({embargo:i.a.shape({movingWallStart:i.a.shape({length:i.a.number,unit:i.a.string}),movingWallEnd:i.a.shape({length:i.a.number,unit:i.a.string})}),pci:i.a.shape({pti:i.a.shape({titleInstance:i.a.shape({dateMonographPublished:i.a.string,monographVolume:i.a.string,monographEdition:i.a.string,name:i.a.string,type:i.a.shape({value:i.a.string})})})}),pti:i.a.shape({titleInstance:i.a.shape({type:i.a.shape({value:i.a.string})})})})})}},2978:function(e,t,n){"use strict";n(3);var r=n(1),o=n.n(r),a=n(29),i=n(2),c=n(2939),s=n(0);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.type,n=e.titleInstance,r=e.width,o=void 0===r?3:r,u=Object(c.a)(n,t);return u?Object(s.jsx)(i.k,{xs:o,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.identifier.".concat(t)}),children:Object(s.jsx)("div",l(l({},p({},"data-test-".concat(t),!0)),{},{children:u}))})}):null};d.propTypes={titleInstance:o.a.object,type:o.a.string,width:o.a.number};var f=d,b={titleInstance:o.a.shape({dateMonographPublished:o.a.string,id:o.a.string,firstAuthor:o.a.string,firstEditor:o.a.string,monographEdition:o.a.string,monographVolume:o.a.string,name:o.a.string,subType:o.a.shape({label:o.a.string}),publicationType:o.a.shape({label:o.a.string}),type:o.a.shape({label:o.a.string})}).isRequired},j=function(e){var t,n,r,o,c,u,l,p,d=e.titleInstance;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(i.sb,{children:[Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.publicationType"}),children:Object(s.jsx)("div",{children:null!==(t=null===(n=d.publicationType)||void 0===n?void 0:n.label)&&void 0!==t?t:Object(s.jsx)(i.bb,{})})})}),Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.materialType"}),children:Object(s.jsx)("div",{children:null!==(r=null===(o=d.subType)||void 0===o?void 0:o.label)&&void 0!==r?r:Object(s.jsx)(i.bb,{})})})}),Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.firstAuthor"}),children:Object(s.jsx)("div",{children:null!==(c=d.firstAuthor)&&void 0!==c?c:Object(s.jsx)(i.bb,{})})})}),Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.firstEditor"}),children:Object(s.jsx)("div",{children:null!==(u=d.firstEditor)&&void 0!==u?u:Object(s.jsx)(i.bb,{})})})})]}),Object(s.jsxs)(i.sb,{children:[Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.datePublished"}),children:Object(s.jsx)("div",{children:d.dateMonographPublished?Object(s.jsx)(i.B,{value:d.dateMonographPublished}):Object(s.jsx)(i.bb,{})})})}),Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.edition"}),children:Object(s.jsx)("div",{children:null!==(l=d.monographEdition)&&void 0!==l?l:Object(s.jsx)(i.bb,{})})})}),Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.volume"}),children:Object(s.jsx)("div",{children:null!==(p=d.monographVolume)&&void 0!==p?p:Object(s.jsx)(i.bb,{})})})})]}),Object(s.jsxs)(i.sb,{children:[Object(s.jsx)(f,{titleInstance:d,type:"isbn"}),Object(s.jsx)(f,{titleInstance:d,type:"doi"})]})]})};j.propTypes=b;var m=j,y=n(2949),v={titleInstance:o.a.shape({subType:o.a.shape({label:o.a.string})}).isRequired},h=function(e){var t,n,r=e.titleInstance;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(i.sb,{children:[Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.publicationType"}),children:Object(s.jsx)("div",{children:Object(s.jsx)(y.a,{resource:r})})})}),Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.materialType"}),children:Object(s.jsx)("div",{children:null!==(t=null===(n=r.subType)||void 0===n?void 0:n.label)&&void 0!==t?t:Object(s.jsx)(i.bb,{})})})})]}),Object(s.jsxs)(i.sb,{children:[Object(s.jsx)(f,{titleInstance:r,type:"ezb"}),Object(s.jsx)(f,{titleInstance:r,type:"zdb"}),Object(s.jsx)(f,{titleInstance:r,type:"eissn"}),Object(s.jsx)(f,{titleInstance:r,type:"pissn"})]})]})};h.propTypes=v;var O=h,g=n(416),x=n(2976),w=n.n(x),k={relatedTitle:o.a.shape({id:o.a.string,identifiers:o.a.arrayOf(o.a.shape({identifier:o.a.shape({ns:o.a.shape({value:o.a.string}),value:o.a.string})})),longName:o.a.string,name:o.a.string,subType:o.a.shape({id:o.a.string,label:o.a.string,value:o.a.string}),type:o.a.shape({id:o.a.string,label:o.a.string,value:o.a.string})}).isRequired},P=function(e){var t,n,r=e.relatedTitle;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:w.a.separator}),Object(s.jsx)(i.D,{size:"large",tag:"h3",children:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.relatedTitle",values:{name:r.name}})}),Object(s.jsxs)(i.sb,{children:[Object(s.jsx)(i.k,{xs:3,children:Object(s.jsx)(i.J,{label:Object(s.jsx)(a.a,{id:"ui-agreements.eresources.materialType"}),children:Object(s.jsx)("div",{children:null!==(t=null===(n=r.subType)||void 0===n?void 0:n.label)&&void 0!==t?t:Object(s.jsx)(i.bb,{})})})}),r.type.value===g.g.MONOGRAPH||r.type.value===g.g.BOOK?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(f,{titleInstance:r,type:"isbn"}),Object(s.jsx)(f,{titleInstance:r,type:"doi"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(f,{titleInstance:r,type:"ezb"}),Object(s.jsx)(f,{titleInstance:r,type:"zdb"}),Object(s.jsx)(f,{titleInstance:r,type:"eissn"}),Object(s.jsx)(f,{titleInstance:r,type:"issn"})]})]})]})};P.propTypes=k;var T=P,E={title:o.a.shape({type:o.a.oneOfType([o.a.shape({label:o.a.string}),o.a.string]),pti:o.a.shape({titleInstance:o.a.shape({type:o.a.shape({label:o.a.string})})})})},_=function(e){var t,n,r,o,a,i,c=e.title,u=null!==(t=null==c||null===(n=c.pti)||void 0===n?void 0:n.titleInstance)&&void 0!==t?t:c,l=(null!==(r=null!==(o=null==u||null===(a=u.type)||void 0===a?void 0:a.label)&&void 0!==o?o:null==u?void 0:u.type)&&void 0!==r?r:"").toLowerCase();return Object(s.jsxs)(s.Fragment,{children:[l===g.g.MONOGRAPH||l===g.g.BOOK?Object(s.jsx)(m,{titleInstance:u}):Object(s.jsx)(O,{titleInstance:u}),null==u||null===(i=u.relatedTitles)||void 0===i?void 0:i.map((function(e,t){return Object(s.jsx)(T,{relatedTitle:e},t)}))]})};_.propTypes=E;t.a=_},2980:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return ce})),n.d(t,"g",(function(){return je})),n.d(t,"h",(function(){return we})),n.d(t,"c",(function(){return Be})),n.d(t,"f",(function(){return Je})),n.d(t,"d",(function(){return Ze})),n.d(t,"e",(function(){return at}));var r=n(3),o=n.n(r),a=n(1),i=n.n(a),c=n(29),s=n(2),u=n(2942),l=n(2949),p=n(863),d=n(7),f=n(4),b=n(0);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r,o=k(a);function a(){var e;g(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={itemExistsInBasket:!1,basketSize:0},e.addToBasket=function(t){t.stopPropagation();var n=e.props,r=n.item,o=n.mutator,a=h(n.resources.basket);a.push(r),o.basket.replace(a)},e.removeFromBasket=function(t){t.stopPropagation();var n=e.props,r=n.item,o=n.mutator,a=n.resources.basket.filter((function(e){return e.id!==r.id}));o.basket.replace(a)},e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.resources.basket;return n.length!==t.basketSize?{itemExistsInBasket:void 0!==n.find((function(t){return t.id===e.item.id})),basketSize:n.length}:null}}],(n=[{key:"render",value:function(){var e=this.state.itemExistsInBasket,t=this.props,n=t.addButtonTooltipText,r=t.addLabel,o=t.buttonProps,a=t.disabled,i=t.item,c=t.removeButtonTooltipText,u=t.removeLabel,l=JSON.stringify(Object(f.get)(i,"_object.coverage[0]",{})),p={buttonStyle:e?"default":"primary","data-test-basket-add-button":!e||void 0,"data-test-basket-remove-button":!!e||void 0,"data-test-coverage-details":l,"data-test-entitlement-option-id":i.id,disabled:a,onClick:e?this.removeFromBasket:this.addToBasket,"data-testid":"addtobasketbutton"},j=n?Object(b.jsx)(s.Cb,{id:Object(f.uniqueId)("addtobasketbutton"),text:e?c:n,children:function(t){var n=t.ref,a=t.ariaIds;return Object(b.jsx)(s.f,y(y(y({},p),o),{},{ref:n,"aria-labelledby":a.text,children:e?u:r}))}}):Object(b.jsx)(s.f,y(y(y({},p),o),{},{children:e?u:r}));return Object(b.jsx)(d.f,{perm:"ui-agreements.agreements.edit",children:j})}}])&&x(t.prototype,n),r&&x(t,r),a}(o.a.Component);E.manifest=Object.freeze({basket:{initialValue:[]}}),E.propTypes={addButtonTooltipText:i.a.node,addLabel:i.a.oneOfType([i.a.node,i.a.string]),buttonProps:i.a.object,removeLabel:i.a.oneOfType([i.a.node,i.a.string]),disabled:i.a.bool,item:i.a.shape({id:i.a.string}),mutator:i.a.shape({basket:i.a.shape({replace:i.a.func})}),removeButtonTooltipText:i.a.node,resources:i.a.shape({basket:i.a.arrayOf(i.a.object)})},E.defaultProps={addButtonTooltipText:"",addLabel:"Add to basket",buttonProps:{},removeButtonTooltipText:"",removeLabel:"Remove from basket"};var _=Object(d.o)(E),S=n(2975);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o=M(a);function a(){return C(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e,t,n,r,o,a,i,c=this.props.resource;return Object(f.isEmpty)(c)?Object(b.jsx)(s.bb,{}):Object(p.a)(c)?null!==(o=null==c||null===(a=c._object)||void 0===a||null===(i=a.remoteKb)||void 0===i?void 0:i.name)&&void 0!==o?o:Object(b.jsx)(s.bb,{}):null!==(e=null==c||null===(t=c._object)||void 0===t||null===(n=t.pkg)||void 0===n||null===(r=n.remoteKb)||void 0===r?void 0:r.name)&&void 0!==e?e:Object(b.jsx)(s.bb,{})}}])&&B(t.prototype,n),r&&B(t,r),a}(o.a.Component);N.propTypes={resource:i.a.shape({class:i.a.string,_object:i.a.shape({pkg:i.a.shape({remoteKb:i.a.shape({name:i.a.string})}),remoteKb:i.a.shape({name:i.a.string})})})};var F=n(415);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,r,o=L(a);function a(){var e;J(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).getName=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(F.f)(t)?null===(e=t.reference_object)||void 0===e?void 0:e.label:t.name},e.onRowClick=function(t,n){var r=n.id;(0,e.props.handlers.onEResourceClick)(r)},e.renderBadge=function(){var t,n,r=null===(t=e.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.entitlementOptionsCount;return void 0!==r?Object(b.jsx)(s.e,{children:r}):Object(b.jsx)(s.xb,{})},e.renderParentPackage=function(t){var n=e.getName(t);return Object(b.jsx)("div",{style:{overflowWrap:"break-word",width:180},children:n||Object(b.jsx)(s.bb,{})})},e.renderOptions=function(){return Object(b.jsx)(s.W,{columnMapping:{sourceKb:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.dataSource"}),package:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.name"}),coverage:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),platform:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.platform"}),acqMethod:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.acqMethod"}),add:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addToBasketHeader"})},columnWidths:{sourceKb:90,package:200,coverage:220,platform:200,acqMethod:100},contentData:e.props.data.entitlementOptions,formatter:{sourceKb:function(e){return Object(b.jsx)(N,{resource:e})},package:function(t){return e.renderParentPackage(t)},coverage:function(e){return Object(b.jsx)(S.a,{eResource:e})},platform:function(e){var t,n,r=null!==(t=null==e||null===(n=e._object)||void 0===n?void 0:n.pti)&&void 0!==t?t:{},o=r.name,a=r.platform,i=r.url;return Object(b.jsx)(u.a,{id:e.id,name:o,platform:null==a?void 0:a.name,url:i})},acqMethod:function(e){return Object(b.jsx)(l.a,{resource:e})},add:function(e){var t=Object(p.a)(e),n=Object(F.f)(e)?e.reference_object.label:e.name,r=t?Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addPackage"}):Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addTitle"}),o=t?Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addPackageButtonTooltip",values:{packageName:n}}):Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addTitleButtonTooltip",values:{packageName:n}}),a=t?Object(b.jsx)(c.a,{id:"ui-agreements.eresources.removePackage"}):Object(b.jsx)(c.a,{id:"ui-agreements.eresources.removeTitle"}),i=t?Object(b.jsx)(c.a,{id:"ui-agreements.eresources.removePackageButtonTooltip",values:{packageName:n}}):Object(b.jsx)(c.a,{id:"ui-agreements.eresources.removeTitleButtonTooltip",values:{packageName:n}}),s=t?{"data-test-add-package-to-basket":!0}:{"data-test-add-title-to-basket":!0};return Object(b.jsx)(_,{addButtonTooltipText:o,addLabel:r,buttonProps:s,item:e,removeButtonTooltipText:i,removeLabel:a},e.id)}},id:"".concat(e.props.id,"-mcl"),onNeedMoreData:e.props.handlers.onNeedMoreEntitlementOptions,onRowClick:e.onRowClick,pagingType:"click",totalCount:e.props.data.entitlementOptionsCount,visibleColumns:["sourceKb","package","coverage","platform","acqMethod","add"]})},e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.data.entitlementOptions,n=e.id;return Object(b.jsx)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:n,label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.acqOptions"}),children:t?this.renderOptions():Object(b.jsx)(s.xb,{})})}}])&&q(t.prototype,n),r&&q(t,r),a}(o.a.Component);U.propTypes={data:i.a.shape({entitlementOptions:i.a.arrayOf(i.a.object),entitlementOptionsCount:i.a.number,eresource:i.a.shape({name:i.a.string})}),handlers:i.a.shape({onEResourceClick:i.a.func,onNeedMoreEntitlementOptions:i.a.func}),id:i.a.string};var Y=U,G=n(416),H=n(13),Z=n(2984),$=n(2974),Q=function(e){var t=e.entitlements,n=e.headline,r=e.id,o=e.isEmptyMessage,a=e.onNeedMoreEntitlements,i=e.totalCount,u=e.visibleColumns,p={name:Object(b.jsx)(c.a,{id:"ui-agreements.agreements.name"}),type:Object(b.jsx)(c.a,{id:"ui-agreements.agreements.agreementStatus"}),package:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.package"}),startDate:Object(b.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodStart"}),endDate:Object(b.jsx)(c.a,{id:"ui-agreements.agreementPeriods.periodEnd"}),eresource:Object(b.jsx)(c.a,{id:"ui-agreements.eresource"}),acqMethod:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.acqMethod"}),coverage:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),isCustomCoverage:" "},f={name:function(e){var t,n,r,o,a=(null==e||null===(t=e.owner)||void 0===t||null===(n=t.agreementStatus)||void 0===n?void 0:n.value)===G.i.CLOSED?"closedAgreement":"app";return Object(b.jsx)(d.b,{app:"agreements",iconAlignment:"baseline",iconKey:a,size:"small",children:Object(b.jsx)("div",{children:Object(b.jsx)(H.a,{to:F.h.agreementView(null==e||null===(r=e.owner)||void 0===r?void 0:r.id),children:null==e||null===(o=e.owner)||void 0===o?void 0:o.name})})})},type:function(e){var t,n,r;return Object(b.jsx)("div",{children:null!==(t=null==e||null===(n=e.owner)||void 0===n||null===(r=n.agreementStatus)||void 0===r?void 0:r.label)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})},package:function(e){var t,n,r,o;return Object(b.jsx)("div",{children:null!==(t=null==e||null===(n=e.resource)||void 0===n||null===(r=n._object)||void 0===r||null===(o=r.pkg)||void 0===o?void 0:o.name)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})},startDate:function(e){var t,n;return Object(b.jsx)("div",{children:(null==e||null===(t=e.owner)||void 0===t?void 0:t.startDate)&&Object(b.jsx)(s.B,{value:null==e||null===(n=e.owner)||void 0===n?void 0:n.startDate})})},endDate:function(e){var t,n;return Object(b.jsx)("div",{children:(null==e||null===(t=e.owner)||void 0===t?void 0:t.endDate)&&Object(b.jsx)(s.B,{value:null==e||null===(n=e.owner)||void 0===n?void 0:n.endDate})})},eresource:function(e){return Object(b.jsx)($.a,{eresource:Object(F.d)(e)})},acqMethod:function(e){return Object(b.jsx)(l.a,{resource:null==e?void 0:e.resource})},coverage:function(e){return Object(b.jsx)(S.a,{line:e})},isCustomCoverage:function(e){return e.customCoverage&&Object(b.jsx)(Z.a,{})}};return Object(b.jsxs)("div",{children:[n?Object(b.jsx)(s.M,{className:"padding-top-gutter",children:Object(b.jsx)(s.D,{margin:"small",tag:"h4",children:n})}):null,Object(b.jsx)(s.W,{columnMapping:p,columnWidths:{name:{min:200,max:400},eresource:{min:200,max:400},acqMethod:100,startDate:120,endDate:120},contentData:t,formatter:f,id:r,interactive:!1,isEmptyMessage:o,onNeedMoreData:a,pagingType:"click",totalCount:i,visibleColumns:u})]})};Q.defaultProps={isEmptyMessage:Object(b.jsx)(c.a,{id:"ui-agreements.emptyAccordion.noAgreementsEresource"}),visibleColumns:["name","type","startDate","endDate"]},Q.propTypes={entitlements:i.a.arrayOf(i.a.object),headline:i.a.node,id:i.a.string,isEmptyMessage:i.a.node,onNeedMoreEntitlements:i.a.func,totalCount:i.a.number,visibleColumns:i.a.arrayOf(i.a.string)};var X=Q;function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(a,e);var t,n,r,o=oe(a);function a(){var e;te(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderEntitlementAgreements=function(){var t=e.props.data,n=t.entitlements,r=void 0===n?[]:n,o=t.entitlementsCount,a=e.props,i=a.handlers.onNeedMoreEntitlements,c=a.headline,s=a.isEmptyMessage,u=a.visibleColumns;return Object(b.jsx)(X,{entitlements:r,headline:c,id:"pci-agreements-list",isEmptyMessage:s,onNeedMoreEntitlements:i,totalCount:o,visibleColumns:u})},e.renderRelatedEntitlementAgreements=function(){var t,n,r=e.props.data,o=r.eresource,a=r.relatedEntitlements,i=void 0===a?[]:a;return Object(b.jsx)(X,{entitlements:i,headline:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.otherPlatformPackages",values:{name:null==o||null===(t=o.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n?void 0:n.name}}),id:"related-agreements-list",isEmptyMessage:Object(b.jsx)(c.a,{id:"ui-agreements.emptyAccordion.noAgreementsOtherPackages"}),visibleColumns:["name","type","package","startDate","endDate"]})},e.renderBadge=function(){var t=e.props.data,n=t.entitlements,r=t.entitlementsCount,o=t.relatedEntitlements;return n&&o?Object(b.jsx)(s.e,{children:r+(null==o?void 0:o.length)}):Object(b.jsx)(s.xb,{})},e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=t.entitlements,r=t.eresource,o=t.relatedEntitlements,a=e.id,i=e.renderRelatedEntitlements,u=r.class===G.f.PACKAGE?Object(b.jsx)(c.a,{id:"ui-agreements.eresources.packageAgreements"}):Object(b.jsx)(c.a,{id:"ui-agreements.eresources.erAgreements"});return Object(b.jsxs)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:a,label:u,children:[n?this.renderEntitlementAgreements(n):Object(b.jsx)(s.xb,{}),i?o?this.renderRelatedEntitlementAgreements():Object(b.jsx)(s.xb,{}):null]})}}])&&ne(t.prototype,n),r&&ne(t,r),a}(o.a.Component);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ce.propTypes={data:i.a.shape({entitlements:i.a.arrayOf(i.a.object),entitlementsCount:i.a.number,eresource:i.a.shape({class:i.a.string,pti:i.a.shape({titleInstance:i.a.shape({name:i.a.string})}),type:i.a.object}),relatedEntitlements:i.a.arrayOf(i.a.object)}),handlers:i.a.shape({onNeedMoreEntitlements:i.a.func}),headline:i.a.node,id:i.a.string,isEmptyMessage:i.a.node,renderRelatedEntitlements:i.a.bool,visibleColumns:i.a.arrayOf(i.a.string)};var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(a,e);var t,n,r,o=de(a);function a(){var e;ue(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).columnMapping={name:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.name"}),platform:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.platform"}),coverage:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),accessStart:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.accessStart"}),accessEnd:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.accessEnd"})},e.columnWidths={name:{min:200,max:400},coverage:{min:250,max:320}},e.formatter={name:function(e){return Object(b.jsx)(d.b,{app:"agreements",iconAlignment:"baseline",iconKey:"eresource",size:"small",children:Object(b.jsx)($.a,{eresource:e.pti.titleInstance})})},platform:function(e){var t,n=null!==(t=e.pti)&&void 0!==t?t:{},r=n.name,o=n.platform,a=n.url;return Object(b.jsx)(u.a,{id:e.id,name:r,platform:null==o?void 0:o.name,url:a})},coverage:function(e){return Object(b.jsx)(S.a,{pci:e})},accessStart:function(t){return e.renderDate(t.accessStart)},accessEnd:function(t){return e.renderDate(t.accessEnd)}},e.visibleColumns=["name","platform","coverage","accessStart","accessEnd"],e.renderList=function(t,n){return Object(b.jsx)(s.W,{columnMapping:e.columnMapping,columnWidths:e.columnWidths,contentData:t,formatter:e.formatter,id:"package-contents-list",interactive:!1,onNeedMoreData:e.props.onNeedMorePackageContents,pageAmount:G.h.RESULT_COUNT_INCREMENT,pagingType:"click",totalCount:n,visibleColumns:e.visibleColumns})},e.renderDate=function(e){return e?Object(b.jsx)(s.B,{value:e}):""},e.renderBadge=function(){var t,n=null===(t=e.props.data)||void 0===t?void 0:t.packageContentsCount;return void 0!==n?Object(b.jsx)(s.e,{children:n}):Object(b.jsx)(s.xb,{})},e.renderFilterButton=function(t){return Object(b.jsx)(s.f,{buttonStyle:e.props.data.packageContentsFilter===t?"primary":"default",id:"clickable-pci-".concat(t),onClick:function(){return e.props.onFilterPackageContents(t)},children:Object(b.jsx)(c.a,{id:"ui-agreements.content.".concat(t)})})},e.renderFilterButtons=function(){return Object(b.jsx)(s.M,{className:"textCentered",children:Object(b.jsxs)(s.g,{children:[e.renderFilterButton("current"),e.renderFilterButton("future"),e.renderFilterButton("dropped"),e.renderFilterButton("all")]})})},e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=t.packageContents,r=t.packageContentsCount,o=e.id;return Object(b.jsxs)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:o,label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.packageResources"}),children:[this.renderFilterButtons(),n?this.renderList(n,r):Object(b.jsx)(s.xb,{})]})}}])&&le(t.prototype,n),r&&le(t,r),a}(o.a.Component);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}je.propTypes={data:i.a.shape({packageContents:i.a.arrayOf(i.a.object),packageContentsCount:i.a.number,packageContentsFilter:i.a.string}),id:i.a.string,onFilterPackageContents:i.a.func.isRequired,onNeedMorePackageContents:i.a.func.isRequired};var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,n,r,o=Oe(a);function a(){return ye(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e,t=this.props.data.eresource,n={class:G.f.PACKAGE,id:t.id,name:t.name,_object:t};return Object(b.jsxs)("div",{id:"package-info",children:[Object(b.jsxs)(s.sb,{between:"md",children:[Object(b.jsx)(s.k,{md:8,xs:12,children:Object(b.jsx)(s.D,{size:"xx-large",tag:"h2",children:t.name})}),Object(b.jsx)(s.k,{children:Object(b.jsx)(s.M,{className:"marginTop1",children:Object(b.jsx)(_,{addLabel:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addPackageToBasket"}),buttonProps:{"data-test-add-package-to-basket":!0},item:n,removeLabel:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.removePackageFromBasket"})},t.id)})})]}),Object(b.jsxs)(s.sb,{children:[Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)(s.J,{label:"Provider",value:(null==t||null===(e=t.vendor)||void 0===e?void 0:e.name)||Object(b.jsx)(s.bb,{})})}),Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)(s.J,{label:"Source",value:t.source||Object(b.jsx)(s.bb,{})})}),Object(b.jsx)(s.k,{xs:6,children:Object(b.jsx)(s.J,{label:"Reference",value:t.reference||Object(b.jsx)(s.bb,{})})})]})]})}}])&&ve(t.prototype,n),r&&ve(t,r),a}(o.a.Component);we.propTypes={data:i.a.shape({eresource:i.a.shape({id:i.a.string,name:i.a.string,reference:i.a.string,source:i.a.string,vendor:i.a.shape({name:i.a.string})})}).isRequired};var ke=n(2941);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,e);var t,n,r,o=Se(a);function a(){var e;Te(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).columnMapping={startDate:Object(b.jsx)(c.a,{id:"ui-agreements.pci.coverage.startDate"}),startVolume:Object(b.jsx)(c.a,{id:"ui-agreements.pci.coverage.startVolume"}),startIssue:Object(b.jsx)(c.a,{id:"ui-agreements.pci.coverage.startIssue"}),endDate:Object(b.jsx)(c.a,{id:"ui-agreements.pci.coverage.endDate"}),endVolume:Object(b.jsx)(c.a,{id:"ui-agreements.pci.coverage.endVolume"}),endIssue:Object(b.jsx)(c.a,{id:"ui-agreements.pci.coverage.endIssue"})},e.formatter={startDate:function(t){return Object(b.jsx)("div",{children:e.renderDate(t.startDate)})},startVolume:function(e){var t;return Object(b.jsx)("div",{children:null!==(t=null==e?void 0:e.startVolume)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})},startIssue:function(e){var t;return Object(b.jsx)("div",{children:null!==(t=null==e?void 0:e.startIssue)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})},endDate:function(t){return Object(b.jsx)("div",{children:e.renderDate(null==t?void 0:t.endDate)})},endVolume:function(e){var t;return Object(b.jsx)("div",{children:null!==(t=null==e?void 0:e.endVolume)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})},endIssue:function(e){var t;return Object(b.jsx)("div",{children:null!==(t=null==e?void 0:e.endIssue)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})}},e.visibleColumns=["startDate","startVolume","startIssue","endDate","endVolume","endIssue"],e.renderBadge=function(){var t,n,r,o=null!==(t=null===(n=e.props.data.eresource)||void 0===n||null===(r=n.coverage)||void 0===r?void 0:r.length)&&void 0!==t?t:0;return Object(b.jsx)(s.e,{children:o})},e.renderCoverage=function(t){return Object(b.jsx)(s.W,{columnMapping:e.columnMapping,contentData:t.coverage,formatter:e.formatter,id:"pci-coverage-list",interactive:!1,isEmptyMessage:Object(b.jsx)(c.a,{id:"ui-agreements.emptyAccordion.pciCoverage"}),visibleColumns:e.visibleColumns})},e.renderDate=function(e){return e?Object(b.jsx)(s.B,{value:e}):Object(b.jsx)(s.bb,{})},e.renderEmbargo=function(e){return e.embargo?Object(b.jsx)(s.J,{label:Object(b.jsx)(c.a,{id:"ui-agreements.embargo"}),children:Object(b.jsx)(ke.a,{alignment:"left",embargo:null==e?void 0:e.embargo})}):null},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.data.eresource,t=void 0===e?{}:e;return Object(b.jsxs)(s.a,{displayWhenClosed:this.renderBadge(),displayWhenOpen:this.renderBadge(),id:"pci-coverage",label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),children:[this.renderEmbargo(t),this.renderCoverage(t)]})}}])&&Ee(t.prototype,n),r&&Ee(t,r),a}(o.a.Component);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Be.propTypes={data:i.a.shape({eresource:i.a.shape({coverage:i.a.arrayOf(i.a.object),embargo:i.a.shape({movingWallStart:i.a.shape({length:i.a.number,unit:i.a.string}),movingWallEnd:i.a.shape({length:i.a.number,unit:i.a.string})})})})};var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(a,e);var t,n,r,o=Ne(a);function a(){var e;Me(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).renderAddTitleToBasketButton=function(e){var t=e.name,n={class:G.f.PCI,id:e.id,name:e.name,_object:e};return Object(b.jsx)(_,{addButtonTooltipText:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addTitleButtonTooltip",values:{packageName:t}}),addLabel:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.addTitleToBasket"}),item:n,removeButtonTooltipText:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.removeTitleButtonTooltip",values:{packageName:t}})})},e.renderUrl=function(e){var t,n=null==e||null===(t=e.pti)||void 0===t?void 0:t.url;return n?Object(b.jsx)("a",{href:n,rel:"noopener noreferrer",target:"_blank",children:n}):Object(b.jsx)(s.bb,{})},e}return t=a,(n=[{key:"render",value:function(){var e,t,n=this.props.pci;return Object(b.jsxs)("div",{id:"pci-info",children:[Object(b.jsx)(s.sb,{children:Object(b.jsx)(s.k,{xs:12,children:Object(b.jsx)(s.D,{size:"xx-large",tag:"h2",children:n.name})})}),Object(b.jsxs)(s.M,{className:"display-flex justified",children:[Object(b.jsx)(s.D,{size:"large",tag:"h3",children:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.titleAvailability"})}),Object(b.jsx)(s.M,{children:this.renderAddTitleToBasketButton(n)})]}),Object(b.jsx)(s.sb,{children:Object(b.jsx)(s.k,{xs:12,children:Object(b.jsx)(s.J,{label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.titleOnPlatformURL"}),children:this.renderUrl(n)})})}),Object(b.jsxs)(s.sb,{children:[Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)(s.J,{label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.accessibleFrom"}),children:null!==(e=null==n?void 0:n.accessStart)&&void 0!==e?e:Object(b.jsx)(s.bb,{})})}),Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)(s.J,{label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.accessibleUntil"}),children:null!==(t=null==n?void 0:n.accessEnd)&&void 0!==t?t:Object(b.jsx)(s.bb,{})})})]})]})}}])&&Ie(t.prototype,n),r&&Ie(t,r),a}(o.a.Component);Je.propTypes={pci:i.a.shape({accessEnd:i.a.string,accessStart:i.a.string,name:i.a.string}).isRequired};var qe=n(27),Ve=n(2993);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,n,r,o=Ye(a);function a(){return ze(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.open,r=e.onToggle,o=e.values;return Object(b.jsxs)(s.a,{id:t,label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.coverage"}),onToggle:r,open:n,children:[null!=o&&o.embargo?Object(b.jsx)(s.J,{label:Object(b.jsx)(c.a,{id:"ui-agreements.embargo"}),children:Object(b.jsx)(ke.a,{alignment:"left",embargo:null==o?void 0:o.embargo})}):null,Object(b.jsx)(qe.a,{addButtonId:"edit-pci-add-coverage-button",addLabelId:"ui-agreements.pci.addCoverage",component:Ve.a,deleteButtonTooltipId:"ui-agreements.pci.removeCoverage",headerId:"ui-agreements.pci.coverageTitle",id:"pci-form-coverages",isEmptyCoverageId:"ui-agreements.emptyAccordion.lineCoverageEresource",name:"coverage"})]})}}])&&Ke(t.prototype,n),r&&Ke(t,r),a}(o.a.Component);Ze.propTypes={id:i.a.string,open:i.a.bool,onToggle:i.a.func,values:i.a.object};var $e=n(8);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(a,e);var t,n,r,o=nt(a);function a(){return Xe(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.isSuppressFromDiscoveryEnabled;return Object(b.jsxs)("div",{children:[Object(b.jsx)($e.a,{autoFocus:!0,component:s.zb,disabled:!0,id:"edit-pci-name",label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.name"}),maxLength:255,name:"name",required:!0}),Object(b.jsxs)(s.sb,{children:[Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)($e.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,disabled:!0,id:"pci-access-from",label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.accessibleFrom"}),name:"accessStart",timeZone:"UTC"})}),Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)($e.a,{backendDateStandard:"YYYY-MM-DD",component:s.o,disabled:!0,id:"pci-access-end",label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.accessibleUntil"}),name:"accessEnd",timeZone:"UTC"})}),e("pci")?Object(b.jsx)(s.k,{xs:3,children:Object(b.jsx)($e.a,{component:s.j,id:"pci-suppress-from-discovery",label:Object(b.jsx)(c.a,{id:"ui-agreements.eresources.suppressFromDiscovery"}),name:"suppressFromDiscovery",type:"checkbox",vertical:!0})}):null]})]})}}])&&et(t.prototype,n),r&&et(t,r),a}(o.a.Component);at.propTypes={isSuppressFromDiscoveryEnabled:i.a.func.isRequired}}}]);