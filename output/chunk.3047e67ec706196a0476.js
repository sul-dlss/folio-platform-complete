(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2746:function(e,r,t){"use strict";t.r(r);var n=t(3),o=t.n(n),a=t(1),i=t.n(a),s=t(4),u=t(142),l=t.n(u),c=t(20),d=t(2),p=t(7),f=t(2951),m=t(2985),h=t(2986),b=t(2987),y=t(2973),v=t(415),g=t(0);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){S(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function S(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function R(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return k(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function A(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,r){return(w=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function V(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=L(e);if(r){var o=L(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return x(this,t)}}function x(e,r){if(r&&("object"===j(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&w(e,r)}(a,e);var r,t,n,o=V(a);function a(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,e)).handleBasketLinesAdded=function(){r.props.mutator.query.update({addFromBasket:null,authority:null,referenceId:null})},r.handleClose=function(){var e=r.props,t=e.location,n=e.match;r.props.history.push("".concat(v.h.agreementView(n.params.id)).concat(t.search))},r.handleSubmit=function(e){var t,n,o=r.props,a=o.history,i=o.location,s=o.mutator,u=o.resources,d=null!==(t=null==u||null===(n=u.relationshipTypeValues)||void 0===n?void 0:n.records)&&void 0!==t?t:[],p=null==e?void 0:e.name;return l()(h.b)(e,d),s.agreement.PUT(e).then((function(e){var t=e.id;r.context.sendCallout({message:Object(g.jsx)(c.a,{id:"ui-agreements.agreements.update.callout",values:{name:p}})}),a.push("".concat(v.h.agreementView(t)).concat(i.search))}))},r.getAgreementLines=function(){var e,t,n;return[].concat(R(null!==(e=null===(t=r.props.resources)||void 0===t||null===(n=t.agreementLines)||void 0===n?void 0:n.records)&&void 0!==e?e:[]),R(r.getAgreementLinesToAdd()))},r.getAgreementLinesToAdd=function(){var e,t,n=r.props.resources,o=n.query.addFromBasket,a=null!==(e=null==n||null===(t=n.externalAgreementLine)||void 0===t?void 0:t.records)&&void 0!==e?e:[],i=[];if(n.query.addFromBasket){var s,u=null!==(s=null==n?void 0:n.basket)&&void 0!==s?s:[];i=o.split(",").map((function(e){return{resource:u[parseInt(e,10)]}})).filter((function(e){return e.resource}))}return[].concat(R(a),R(i))},r.fetchIsPending=function(){return Object.values(r.props.resources).filter((function(e){return e&&"agreements"!==e.resource})).some((function(e){return e.isPending}))},r.state={hasPerms:e.stripes.hasPerm("ui-agreements.agreements.edit"),initialValues:{}},r}return r=a,n=[{key:"getDerivedStateFromProps",value:function(e,r){var t,n,o,a,i,u,c,d=!1,p=null!==(t=null==e||null===(n=e.resources)||void 0===n||null===(o=n.agreement)||void 0===o||null===(a=o.records)||void 0===a?void 0:a[0])&&void 0!==t?t:{},f=r.initialValues;p.id!==e.match.params.id||f.id||(f=Object(s.cloneDeep)(p));var m,b,y,v=f,g=v.agreementStatus,j=void 0===g?{}:g,O=v.contacts,S=void 0===O?[]:O,R=v.isPerpetual,k=void 0===R?{}:R,A=v.items,w=void 0===A?[]:A,V=v.linkedLicenses,x=void 0===V?[]:V,L=v.orgs,q=void 0===L?[]:L,C=v.reasonForClosure,T=void 0===C?{}:C,I=v.renewalPriority,D=void 0===I?{}:I,F=v.supplementaryDocs,E=void 0===F?[]:F;f.id!==r.initialValues.id&&(d=!0,f.agreementStatus=j.value,f.isPerpetual=k.value,f.reasonForClosure=T.value,f.renewalPriority=D.value,f.contacts=S.map((function(e){return P(P({},e),{},{role:e.role.value})})),f.orgs=q.map((function(e){return P(P({},e),{},{role:e.role&&e.role.value})})),f.supplementaryDocs=E.map((function(e){var r;return P(P({},e),{},{atType:null===(r=e.atType)||void 0===r?void 0:r.value})})),f.linkedLicenses=x.map((function(e){var r,t;return P(P({},e),{},{status:e.status.value,amendments:(null!==(r=null==e||null===(t=e.remoteId_object)||void 0===t?void 0:t.amendments)&&void 0!==r?r:[]).map((function(r){var t=(e.amendments||[]).find((function(e){return e.amendmentId===r.id}))||{};return P(P({},t),{},{amendmentId:r.id,status:t.status?t.status.value:void 0})}))})})),f.customProperties=f.customProperties||{},(null!==(m=null==e||null===(b=e.resources)||void 0===b||null===(y=b.supplementaryProperties)||void 0===y?void 0:y.records)&&void 0!==m?m:[]).filter((function(e){return e.primary&&void 0===f.customProperties[e.name]})).forEach((function(e){f.customProperties[e.name]=""})),l()(h.a)(f));var _=null!==(i=null==e||null===(u=e.resources)||void 0===u||null===(c=u.agreementLines)||void 0===c?void 0:c.records)&&void 0!==i?i:[];return w.length&&_.length&&_[0].owner.id===e.match.params.id&&(d=!0,f.items=w.map((function(e){if(e.resource)return e;var r=_.find((function(r){return r.id===e.id}));return r?{id:r.id,coverage:r.customCoverage?r.coverage:void 0,poLines:r.poLines,activeFrom:r.startDate,activeTo:r.endDate,note:r.note}:e}))),d?{initialValues:f}:null}}],(t=[{key:"render",value:function(){var e,r,t,n,o,a,i,s,u,l,c,p,f,m,h,v,j,O,S,R,k,A,w,V,x,L,q,C=this.props,T=C.handlers,I=C.resources;return this.state.hasPerms?this.fetchIsPending()?Object(g.jsx)(d.R,{dismissible:!0,onClose:this.handleClose}):Object(g.jsx)(b.a,{data:{agreementLines:this.getAgreementLines(),agreementLinesToAdd:this.getAgreementLinesToAdd(),agreementStatusValues:null!==(e=null==I||null===(r=I.agreementStatusValues)||void 0===r?void 0:r.records)&&void 0!==e?e:[],reasonForClosureValues:null!==(t=null==I||null===(n=I.reasonForClosureValues)||void 0===n?void 0:n.records)&&void 0!==t?t:[],amendmentStatusValues:null!==(o=null==I||null===(a=I.amendmentStatusValues)||void 0===a?void 0:a.records)&&void 0!==o?o:[],basket:null!==(i=null==I?void 0:I.basket)&&void 0!==i?i:[],contactRoleValues:null!==(s=null==I||null===(u=I.contactRoleValues)||void 0===u?void 0:u.records)&&void 0!==s?s:[],documentCategories:null!==(l=null==I||null===(c=I.documentCategories)||void 0===c?void 0:c.records)&&void 0!==l?l:[],externalAgreementLine:null!==(p=null==I||null===(f=I.externalAgreementLine)||void 0===f?void 0:f.records)&&void 0!==p?p:[],isPerpetualValues:null!==(m=null==I||null===(h=I.isPerpetualValues)||void 0===h?void 0:h.records)&&void 0!==m?m:[],licenseLinkStatusValues:null!==(v=null==I||null===(j=I.licenseLinkStatusValues)||void 0===j?void 0:j.records)&&void 0!==v?v:[],orderLines:null!==(O=null==I||null===(S=I.orderLines)||void 0===S?void 0:S.records)&&void 0!==O?O:[],orgRoleValues:null!==(R=null==I||null===(k=I.orgRoleValues)||void 0===k?void 0:k.records)&&void 0!==R?R:[],renewalPriorityValues:null!==(A=null==I||null===(w=I.renewalPriorityValues)||void 0===w?void 0:w.records)&&void 0!==A?A:[],supplementaryProperties:null!==(V=null==I||null===(x=I.supplementaryProperties)||void 0===x?void 0:x.records)&&void 0!==V?V:[],users:null!==(L=null==I||null===(q=I.users)||void 0===q?void 0:q.records)&&void 0!==L?L:[]},handlers:P(P({},T),{},{onBasketLinesAdded:this.handleBasketLinesAdded,onAsyncValidate:this.props.checkAsyncValidation,onClose:this.handleClose}),initialValues:this.state.initialValues,isLoading:this.fetchIsPending(),onSubmit:this.handleSubmit}):Object(g.jsx)(y.a,{})}}])&&A(r.prototype,t),n&&A(r,n),a}(o.a.Component);q.manifest=Object.freeze({agreement:{type:"okapi",path:"erm/sas/:{id}",shouldRefresh:function(){return!1}},agreementLines:{type:"okapi",path:"erm/entitlements",params:{filters:"owner=:{id}",sort:"resource.name",stats:"true"},limitParam:"perPage",perRequest:100,records:"results",recordsRequired:"1000"},agreementStatusValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreement/agreementStatus",shouldRefresh:function(){return!1}},reasonForClosureValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreement/reasonForClosure",limitParam:"perPage",perRequest:100,shouldRefresh:function(){return!1}},amendmentStatusValues:{type:"okapi",path:"erm/refdata/LicenseAmendmentStatus/status",shouldRefresh:function(){return!1}},contactRoleValues:{type:"okapi",path:"erm/refdata/InternalContact/role",limitParam:"perPage",perRequest:100,shouldRefresh:function(){return!1}},documentCategories:{type:"okapi",path:"erm/refdata/DocumentAttachment/atType",limitParam:"perPage",perRequest:100,shouldRefresh:function(){return!1}},isPerpetualValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreement/isPerpetual",shouldRefresh:function(){return!1}},licenseLinkStatusValues:{type:"okapi",path:"erm/refdata/RemoteLicenseLink/status",shouldRefresh:function(){return!1}},orderLines:{type:"okapi",path:"orders/order-lines",params:function(e,r,t,n,o){var a,i,s,u=(null!==(a=null==o||null===(i=o.resources)||void 0===i||null===(s=i.agreementLines)||void 0===s?void 0:s.records)&&void 0!==a?a:[]).filter((function(e){return e.poLines&&e.poLines.length})).map((function(e){return e.poLines.map((function(e){return"id==".concat(e.poLineId)})).join(" or ")})).join(" or ");return u?{query:u}:null},fetch:function(e){return!!e.stripes.hasInterface("order-lines","1.0 2.0")},records:"poLines"},orgRoleValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreementOrg/role",shouldRefresh:function(){return!1}},renewalPriorityValues:{type:"okapi",path:"erm/refdata/SubscriptionAgreement/renewalPriority",limitParam:"perPage",perRequest:100,shouldRefresh:function(){return!1}},relationshipTypeValues:{type:"okapi",path:"erm/refdata/AgreementRelationship/type",shouldRefresh:function(){return!1}},supplementaryProperties:{type:"okapi",path:"erm/custprops",shouldRefresh:function(){return!1}},users:{type:"okapi",path:"users",perRequest:100,params:function(e,r,t,n,o){var a,i,s,u,l,c=(null!==(a=null==o||null===(i=o.resources)||void 0===i||null===(s=i.agreement)||void 0===s||null===(u=s.records)||void 0===u||null===(l=u[0])||void 0===l?void 0:l.contacts)&&void 0!==a?a:[]).filter((function(e){return e.user})).map((function(e){return"id==".concat(e.user)})).join(" or ");return c?{query:c}:null},fetch:function(e){return!!e.stripes.hasInterface("users","15.0")},permissionsRequired:"users.collection.get",records:"users"},basket:{initialValue:[]},query:{initialValue:{}}}),q.propTypes={checkAsyncValidation:i.a.func,handlers:i.a.object,history:i.a.shape({push:i.a.func.isRequired}).isRequired,location:i.a.shape({search:i.a.string.isRequired}).isRequired,match:i.a.shape({params:i.a.shape({id:i.a.string.isRequired}).isRequired}).isRequired,mutator:i.a.shape({agreement:i.a.shape({PUT:i.a.func.isRequired}),agreements:i.a.shape({PUT:i.a.func.isRequired}),query:i.a.shape({update:i.a.func.isRequired}).isRequired}).isRequired,resources:i.a.shape({agreement:i.a.object,agreementLines:i.a.shape({records:i.a.arrayOf(i.a.object)}),agreementStatusValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),amendmentStatusValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),basket:i.a.arrayOf(i.a.object),contactRoleValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),documentCategories:i.a.shape({records:i.a.arrayOf(i.a.object)}),externalAgreementLine:i.a.shape({records:i.a.arrayOf(i.a.object)}),isPerpetualValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),licenseLinkStatusValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),orderLines:i.a.shape({records:i.a.arrayOf(i.a.object)}),orgRoleValues:i.a.object,query:i.a.shape({addFromBasket:i.a.string}),reasonForClosureValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),relationshipTypeValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),renewalPriorityValues:i.a.shape({records:i.a.arrayOf(i.a.object)}),statusValues:i.a.object,supplementaryProperties:i.a.object,typeValues:i.a.object,users:i.a.shape({records:i.a.arrayOf(i.a.object)})}).isRequired,stripes:i.a.shape({hasInterface:i.a.func.isRequired,hasPerm:i.a.func.isRequired,okapi:i.a.object.isRequired}).isRequired},q.defaultProps={handlers:{}},q.contextType=p.c,r.default=l()(m.a,f.a,p.o)(q)},2973:function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));t(3);var n=t(29),o=t(2),a=t(0),i=function(){return Object(a.jsxs)(o.M,{className:"textCentered",children:[Object(a.jsx)("h2",{children:Object(a.jsx)(n.a,{id:"stripes-smart-components.permissionError"})}),Object(a.jsx)("p",{children:Object(a.jsx)(n.a,{id:"stripes-smart-components.permissionsDoNotAllowAccess"})})]})}},2987:function(e,r,t){"use strict";var n=t(3),o=t.n(n),a=t(1),i=t.n(a),s=t(4),u=t(29),l=t(120),c=t(1391),d=t(7),p=t(2),f=t(22),m=t(2991),h=t(0);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){O(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function O(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function P(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,r){return(S=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function R(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=A(e);if(r){var o=A(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return k(this,t)}}function k(e,r){if(r&&("object"===b(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&S(e,r)}(i,e);var r,t,n,a=R(i);function i(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,i),(r=a.call(this,e)).state={addedLinesToAdd:!1},r.getInitialAccordionsState=function(){return{formInternalContacts:!0,formLines:!0,formLicenses:!0,formOrganizations:!0,formSupplementaryProperties:!0,formSupplementaryDocs:!0,formUsageProviders:!0,formRelatedAgreements:!0}},r.shortcuts=[{name:"save",handler:function(e){return Object(c.a)(e,r.props)}},{name:"expandAllSections",handler:function(e){return Object(p.Jb)(e,r.accordionStatusRef)}},{name:"collapseAllSections",handler:function(e){return Object(p.Eb)(e,r.accordionStatusRef)}}],r.accordionStatusRef=o.a.createRef(),r}return r=i,n=[{key:"getDerivedStateFromProps",value:function(e,r){var t=e.form.getState();return e.data.agreementLinesToAdd.length&&!1===r.addedLinesToAdd&&e.form.getRegisteredFields().includes("items")?(e.form.change("items",[].concat(y(Object(s.get)(t,"initialValues.items",[])),y(e.data.agreementLinesToAdd))),e.handlers.onBasketLinesAdded(),{addedLinesToAdd:!0}):null}}],(t=[{key:"getSectionProps",value:function(e){var r=this.props,t=r.data,n=r.form,o=r.handlers,a=r.initialValues,i=r.values;return{data:t,form:n,handlers:o,id:e,initialValues:a,values:void 0===i?{}:i}}},{key:"renderPaneFooter",value:function(){var e=this.props,r=e.handlers,t=e.handleSubmit,n=e.pristine,o=e.submitting,a=e.values;return Object(h.jsx)(p.gb,{renderEnd:Object(h.jsx)(p.f,{buttonStyle:"primary mega",disabled:n||o,id:a.id?"clickable-update-agreement":"clickable-create-agreement",marginBottom0:!0,onClick:t,type:"submit",children:Object(h.jsx)(u.a,{id:"stripes-components.saveAndClose"})}),renderStart:Object(h.jsx)(p.f,{buttonStyle:"default mega",id:"clickable-cancel",marginBottom0:!0,onClick:r.onClose,children:Object(h.jsx)(u.a,{id:"stripes-components.cancel"})})})}},{key:"renderFirstMenu",value:function(){var e=this;return Object(h.jsx)(p.jb,{children:Object(h.jsx)(u.a,{id:"ui-agreements.agreements.closeEdit",children:function(r){return Object(h.jsx)(p.H,{"aria-label":r,icon:"times",id:"close-agreement-form-button",onClick:e.props.handlers.onClose})}})})}},{key:"render",value:function(){var e=this,r=this.props,t=r.data,n=r.form,o=r.values,a=o.id,i=o.name,s=n.getRegisteredFields().length>0;return Object(h.jsx)(p.C,{commands:this.shortcuts,isWithinScope:p.Db,scope:document.body,children:Object(h.jsx)(p.kb,{children:Object(h.jsx)(u.a,{id:"ui-agreements.create",children:function(r){var n;return Object(h.jsx)(p.db,{appIcon:Object(h.jsx)(d.b,{app:"agreements"}),centerContent:!0,defaultWidth:"100%",firstMenu:e.renderFirstMenu(),footer:e.renderPaneFooter(),id:"pane-agreement-form",paneTitle:a?i:Object(h.jsx)(u.a,{id:"ui-agreements.agreements.createAgreement"}),children:Object(h.jsx)(d.k,{record:a?i:r,children:Object(h.jsx)("form",{id:"form-agreement",children:Object(h.jsxs)(p.c,{ref:e.accordionStatusRef,children:[s?Object(h.jsx)("div",{id:"form-loaded"}):null,Object(h.jsx)(p.sb,{end:"xs",children:Object(h.jsx)(p.k,{xs:!0,children:Object(h.jsx)(p.v,{})})}),Object(h.jsxs)(p.b,{initialStatus:e.getInitialAccordionsState(),children:[Object(h.jsx)(m.d,j({},e.getSectionProps("formInfo"))),Object(h.jsx)(d.f,{perm:"users.collection.get",children:function(r){return r.hasPermission?Object(h.jsx)(m.e,j({},e.getSectionProps("formInternalContacts"))):null}}),Object(h.jsx)(m.g,j({},e.getSectionProps("formLines"))),Object(h.jsx)(m.f,j({},e.getSectionProps("formLicenses"))),Object(h.jsx)(m.h,j({},e.getSectionProps("formOrganizations"))),(null===(n=t.supplementaryProperties)||void 0===n?void 0:n.length)>0?Object(h.jsx)(m.k,j({},e.getSectionProps("formSupplementaryProperties"))):null,Object(h.jsx)(m.j,j({},e.getSectionProps("formSupplementaryDocs"))),Object(h.jsx)(m.l,j({},e.getSectionProps("formUsageProviders"))),Object(h.jsx)(m.i,j({},e.getSectionProps("formRelatedAgreements")))]})]})})})})}})})})}}])&&P(r.prototype,t),n&&P(r,n),i}(o.a.Component);w.propTypes={data:i.a.shape({agreementLines:i.a.arrayOf(i.a.object).isRequired,agreementLinesToAdd:i.a.arrayOf(i.a.object).isRequired,supplementaryProperties:i.a.arrayOf(i.a.object).isRequired}).isRequired,form:i.a.shape({change:i.a.func.isRequired,getRegisteredFields:i.a.func.isRequired,getState:i.a.func.isRequired}).isRequired,handlers:i.a.PropTypes.shape({onBasketLinesAdded:i.a.func.isRequired,onClose:i.a.func.isRequired}),initialValues:i.a.object,handleSubmit:i.a.func.isRequired,isLoading:i.a.bool,onSubmit:i.a.func.isRequired,invalid:i.a.bool,pristine:i.a.bool,submitting:i.a.bool,values:i.a.object},w.defaultProps={initialValues:{}},r.a=Object(f.a)({initialValuesEqual:function(e,r){return Object(s.isEqual)(e,r)},keepDirtyOnReinitialize:!0,subscription:{values:!0},mutators:{setFieldData:l.a},navigationCheck:!0})(w)}}]);