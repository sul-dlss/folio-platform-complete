(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{2759:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=n(1),a=n.n(i),c=n(4),u=n(7),l=n(29),s=n(2),f=n(2949),p=n(2975),d=n(2974),b=n(0);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).getName=function(e){var t,n,r,o,i=null!==(t=null==e||null===(n=e._object)||void 0===n?void 0:n.pti)&&void 0!==t?t:null==e?void 0:e.pti;return null!==(r=null==i||null===(o=i.titleInstance)||void 0===o?void 0:o.name)&&void 0!==r?r:e.name},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.basket,r=t.onRemoveItem,o=t.selectedItems;return Object(b.jsx)(s.W,{columnMapping:{selected:Object(b.jsx)(s.j,{checked:!0!==Object.values(o).includes(!1),name:"selected-all",onChange:this.props.onToggleAll}),name:Object(b.jsx)(l.a,{id:"ui-agreements.eresources.name"}),publicationType:Object(b.jsx)(l.a,{id:"ui-agreements.eresources.publicationType"}),package:Object(b.jsx)(l.a,{id:"ui-agreements.eresources.parentPackage"}),platform:Object(b.jsx)(l.a,{id:"ui-agreements.eresources.platform"}),coverage:Object(b.jsx)(l.a,{id:"ui-agreements.eresources.coverage"}),action:Object(b.jsx)(l.a,{id:"ui-agreements.action"})},columnWidths:{coverage:{min:250,max:320},name:300,package:{max:400}},contentData:n,formatter:{selected:function(t){return Object(b.jsx)(s.j,{checked:!!o[t.id],name:"selected-".concat(t.id),onChange:function(){return e.props.onToggleItem(t)}})},name:function(e){return Object(b.jsx)(d.a,{eresource:e})},publicationType:function(e){return Object(b.jsx)(f.a,{resource:e})},package:function(e){var t,n=null==e||null===(t=e._object)||void 0===t?void 0:t.pkg;return n?Object(b.jsx)(d.a,{eresource:n}):null},platform:function(e){var t,n,r,o,i;return(null==e||null===(t=e._object)||void 0===t||null===(n=t.pti)||void 0===n||null===(r=n.platform)||void 0===r?void 0:r.name)||(null==e||null===(o=e._object)||void 0===o||null===(i=o.nominalPlatform)||void 0===i?void 0:i.name)||null},coverage:function(e){return Object(b.jsx)(p.a,{eResource:e})},action:function(t){return Object(b.jsx)(s.Cb,{id:Object(c.uniqueId)("removeBasketItemBtn"),text:Object(b.jsx)(l.a,{id:"ui-agreements.basket.removeFromBasket",values:{publicationType:Object(b.jsx)(f.a,{resource:t}),name:e.getName(t)}}),children:function(e){var n=e.ariaIds,o=e.ref;return Object(b.jsx)(s.H,{ref:o,"aria-labelledby":n.text,icon:"trash",onClick:function(){return r(t)}})}})}},interactive:!1,maxHeight:400,rowUpdater:function(e){return o[e.id]},visibleColumns:["selected","name","publicationType","package","platform","coverage","action"]})}}])&&h(t.prototype,n),r&&h(t,r),i}(o.a.Component);w.propTypes={basket:a.a.arrayOf(a.a.object),onRemoveItem:a.a.func,onToggleAll:a.a.func,onToggleItem:a.a.func,selectedItems:a.a.object};var x=w;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,n,r,o=C(i);function i(){var e;I(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={openAgreements:[],selectedAgreementId:void 0,selectedItems:{}},e.handleToggleAll=function(){var t={},n=Object.values(e.state.selectedItems).includes(!1);Object.keys(e.state.selectedItems).forEach((function(e){t[e]=n})),e.setState({selectedItems:t})},e.handleToggleItem=function(t){e.setState((function(e){return{selectedItems:R(R({},e.selectedItems),{},_({},t.id,!e.selectedItems[t.id]))}}))},e.getSelectedItems=function(){return Object.entries(e.state.selectedItems).filter((function(e){var t=P(e,2);t[0];return t[1]})).map((function(t){var n=P(t,1)[0];return e.props.data.basket.findIndex((function(e){return e.id===n}))})).join(",")},e.renderPaneFirstMenu=function(){return Object(b.jsx)(s.jb,{children:Object(b.jsx)(l.a,{id:"ui-agreements.basket.close",children:function(t){return Object(b.jsx)(s.H,{"aria-label":t,icon:"times",id:"clickable-close-basket",onClick:e.props.handlers.onClose})}})})},e.renderCreateAgreementButton=function(){var t=void 0===Object.values(e.state.selectedItems).find((function(e){return e}));return Object(b.jsx)(s.M,{className:"marginTop1",children:Object(b.jsx)(s.f,{buttonStyle:"primary",disabled:t,onClick:function(){e.props.handlers.onAddToNewAgreement(e.getSelectedItems())},children:Object(b.jsx)(l.a,{id:"ui-agreements.basket.createAgreement"})})})},e.renderAddToAgreementButton=function(){var t=void 0===e.state.selectedAgreementId||void 0===Object.values(e.state.selectedItems).find((function(e){return e}));return Object(b.jsx)("div",{children:Object(b.jsx)(s.M,{className:"marginTop1",children:Object(b.jsx)(s.f,{buttonStyle:"primary",disabled:t,onClick:function(){e.props.handlers.onAddToExistingAgreement(e.getSelectedItems(),e.state.selectedAgreementId)},children:Object(b.jsx)(l.a,{id:"ui-agreements.basket.addToSelectedAgreement"})})})})},e.renderAddToAgreementSection=function(){return e.state.openAgreements.length?Object(b.jsxs)("div",{children:[Object(b.jsx)(s.M,{className:"marginTop1",children:Object(b.jsx)(s.D,{margin:"small",tag:"h4",children:Object(b.jsx)(l.a,{id:"ui-agreements.basket.existingAgreements",tagName:"div"})})}),Object(b.jsx)(s.k,{md:8,xs:12,children:Object(b.jsx)(s.wb,{dataOptions:e.state.openAgreements,formatter:function(e){var t=e.option;return Object(b.jsxs)("div",{style:{textAlign:"left"},children:[Object(b.jsxs)(s.D,{children:[t.name," (",t.agreementStatus.label,")"]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("strong",{children:[Object(b.jsx)(l.a,{id:"ui-agreements.agreements.startDate"}),": "]}),Object(b.jsx)(s.B,{value:t.startDate})," "]})]})},id:"select-agreement-for-basket",onChange:function(t){e.setState({selectedAgreementId:t})},onFilter:function(e,t){return t.filter((function(t){var n=e.toLowerCase();return t.name.toLowerCase().includes(n)||t.agreementStatus.label.toLowerCase().includes(n)||t.startDate&&t.startDate.toLowerCase().includes(n)}))},optionAlignment:"start",placeholder:" "})}),e.renderAddToAgreementButton()]}):null},e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=e.data,o=r.basket,i=r.openAgreements;return o.length>Object.keys(t.selectedItems).length&&(n.selectedItems={},o.forEach((function(e){n.selectedItems[e.id]=!0}))),i.length!==t.openAgreements.length&&(n.openAgreements=i.map((function(e){return R(R({},e),{},{value:e.id})}))),Object.keys(n).length?n:null}}],(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.handlers;return Object(b.jsx)(s.kb,{id:"basket-paneset",children:Object(b.jsxs)(s.db,{defaultWidth:"100%",firstMenu:this.renderPaneFirstMenu(),id:"basket-pane",paneSub:Object(b.jsx)(l.a,{id:"ui-agreements.basket.recordCount",values:{count:t.basket.length}}),paneTitle:Object(b.jsx)(l.a,{id:"ui-agreements.basket.name"}),children:[Object(b.jsx)(s.T,{children:Object(b.jsx)(l.a,{id:"ui-agreements.basket.messageBanner"})}),Object(b.jsxs)("div",{id:"basket-contents",children:[Object(b.jsx)(x,{basket:t.basket,onRemoveItem:n.onRemoveBasketItem,onToggleAll:this.handleToggleAll,onToggleItem:this.handleToggleItem,selectedItems:this.state.selectedItems}),this.renderCreateAgreementButton(),this.renderAddToAgreementSection()]})]})})}}])&&T(t.prototype,n),r&&T(t,r),i}(o.a.Component);q.propTypes={data:a.a.shape({basket:a.a.arrayOf(a.a.object).isRequired,openAgreements:a.a.arrayOf(a.a.object).isRequired}).isRequired,handlers:a.a.shape({onAddToNewAgreement:a.a.func.isRequired,onAddToExistingAgreement:a.a.func.isRequired,onClose:a.a.func.isRequired,onRemoveBasketItem:a.a.func.isRequired})};var M=n(415);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(i,e);var t,n,r,o=H(i);function i(){var e;V(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleAddToExistingAgreement=function(t,n){e.props.history.push("".concat(M.h.agreementEdit(n),"?addFromBasket=").concat(t))},e.handleAddToNewAgreement=function(t){e.props.history.push("".concat(M.h.agreementCreate(),"?addFromBasket=").concat(t))},e.handleClose=function(){e.props.history.goBack()},e.handleRemoveBasketItem=function(t){var n=e.props,r=n.mutator,o=n.resources.basket,i=void 0===o?[]:o;r.basket.replace(i.filter((function(e){return e.id!==t.id})))},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.resources;return Object(b.jsx)(q,{data:{openAgreements:Object(c.get)(e,"openAgreements.records",[]),basket:Object(c.get)(e,"basket",[])},handlers:{onAddToExistingAgreement:this.handleAddToExistingAgreement,onAddToNewAgreement:this.handleAddToNewAgreement,onClose:this.handleClose,onRemoveBasketItem:this.handleRemoveBasketItem}})}}])&&F(t.prototype,n),r&&F(t,r),i}(o.a.Component);K.manifest=Object.freeze({openAgreements:{type:"okapi",path:"erm/sas",records:"results",limitParam:"perPage",perRequest:100,recordsRequired:"1000",params:{stats:"true",filters:["agreementStatus.value==active","agreementStatus.value==draft","agreementStatus.value==in_negotiation","agreementStatus.value==requested"].join("||"),sort:"name"}},basket:{initialValue:[]},query:{}}),K.propTypes={history:a.a.shape({goBack:a.a.func.isRequired,push:a.a.func.isRequired}).isRequired,mutator:a.a.shape({basket:a.a.shape({replace:a.a.func.isRequired}).isRequired}),resources:a.a.shape({basket:a.a.arrayOf(a.a.object),openAgreements:a.a.object})};t.default=Object(u.o)(K)},2974:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(3),o=n.n(r),i=n(1),a=n.n(i),c=n(13),u=n(2),l=n(415),s=n(0);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=["eresource","searchString"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=j(i);function i(){var e;h(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).getName=function(e){var t,n,r,o;if(Object(l.f)(e))return e.reference_object.label;var i=null!==(t=null==e||null===(n=e._object)||void 0===n?void 0:n.pti)&&void 0!==t?t:null==e?void 0:e.pti;return null!==(r=null==i||null===(o=i.titleInstance)||void 0===o?void 0:o.name)&&void 0!==r?r:e.name},e.getPath=function(e){var t,n,r,o,i=e.authority,a=e.reference;if("EKB-PACKAGE"===i)return l.h.eholdingsPackageView(a);if("EKB-TITLE"===i)return l.h.eholdingsResourceView(a);var c=null!==(t=null==e||null===(n=e._object)||void 0===n?void 0:n.pti)&&void 0!==t?t:null==e?void 0:e.pti,u=null!==(r=null==c||null===(o=c.titleInstance)||void 0===o?void 0:o.id)&&void 0!==r?r:e.id;return u?l.h.eresourceView(u):void 0},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.eresource,n=e.searchString,r=void 0===n?"":n,o=y(e,p),i=this.getName(t);return this.getPath(t)?Object(s.jsx)(c.a,b(b({},o),{},{to:"".concat(this.getPath(t)).concat(r),children:i})):i||Object(s.jsx)(u.bb,{})}}])&&v(t.prototype,n),r&&v(t,r),i}(o.a.Component);x.propTypes={eresource:a.a.shape({authority:a.a.string,id:a.a.string,name:a.a.string,reference:a.a.string}).isRequired,searchString:a.a.string};var k=x},2975:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(3),o=n.n(r),i=n(1),a=n.n(i),c=n(2941),u=n(2940),l=n(2),s=n(29),f=n(0);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=y(i);function i(){return d(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"renderEdition",value:function(e){return e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{id:"ui-agreements.coverage.editionShort"}),Object(f.jsx)("div",{children:e})]}):null}},{key:"renderVolume",value:function(e){return e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{id:"ui-agreements.coverage.volumeShort"}),Object(f.jsx)("div",{children:e})]}):null}},{key:"renderCoverage",value:function(e){var t,n,r,o,i,a,c=null==e||null===(t=e.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n?void 0:n.dateMonographPublished,u=null==e||null===(r=e.pti)||void 0===r||null===(o=r.titleInstance)||void 0===o?void 0:o.monographVolume,s=null==e||null===(i=e.pti)||void 0===i||null===(a=i.titleInstance)||void 0===a?void 0:a.monographEdition;return c||u||s?Object(f.jsxs)(l.M,{className:"full",children:[Object(f.jsx)("div",{children:c}),Object(f.jsxs)("div",{children:[this.renderEdition(s),u&&s?Object(f.jsx)(f.Fragment,{children:" "}):null,this.renderVolume(u)]})]}):null}},{key:"render",value:function(){var e,t,n=this.props.pci;return null==n||null===(e=n.pti)||void 0===e||null===(t=e.titleInstance)||void 0===t||t.name,n?Object(f.jsx)(l.M,{className:"full",children:this.renderCoverage(n)}):null}}])&&b(t.prototype,n),r&&b(t,r),i}(o.a.Component);g.propTypes={pci:a.a.shape({pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string})}).isRequired})};var j=n(416);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=P(i);function i(){return w(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t,n,r,o,i,a,s,p,d,b,m=this.props,y=m.pci,h=m.line,v=m.eResource,O=!1;if(y)(null==y||null===(a=y.pti)||void 0===a||null===(s=a.titleInstance)||void 0===s||null===(p=s.type)||void 0===p?void 0:p.value)===j.g.MONOGRAPH&&(O=!0),o=y,i=null==y?void 0:y.embargo;else if(h){var w,x,k,P,S,A,R,_;(null==h||null===(w=h.resource)||void 0===w||null===(x=w._object)||void 0===x||null===(k=x.pti)||void 0===k||null===(P=k.titleInstance)||void 0===P||null===(S=P.type)||void 0===S?void 0:S.value)===j.g.MONOGRAPH?(O=!0,o=null==h||null===(A=h.resource)||void 0===A?void 0:A._object):(o=h,i=null==h||null===(R=h.resource)||void 0===R||null===(_=R._object)||void 0===_?void 0:_.embargo)}else if((null==v||null===(e=v._object)||void 0===e||null===(t=e.pti)||void 0===t||null===(n=t.titleInstance)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.value)===j.g.MONOGRAPH)O=!0,o=null==v?void 0:v._object;else{var I;o=v,i=null==v||null===(I=v._object)||void 0===I?void 0:I.embargo}return O?Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{pci:o}),Object(f.jsx)(c.a,{embargo:null===(d=o)||void 0===d?void 0:d.embargo})]}):Object(f.jsxs)(l.M,{className:"full",children:[Object(f.jsx)(u.a,{statements:null===(b=o)||void 0===b?void 0:b.coverage}),Object(f.jsx)(c.a,{embargo:i})]})}}])&&x(t.prototype,n),r&&x(t,r),i}(o.a.Component);R.propTypes={pci:a.a.shape({embargo:a.a.shape({movingWallStart:a.a.shape({length:a.a.number,unit:a.a.string}),movingWallEnd:a.a.shape({length:a.a.number,unit:a.a.string})}),pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string,type:a.a.shape({value:a.a.string})})})}),line:a.a.shape({resource:a.a.shape({_object:a.a.shape({embargo:a.a.shape({movingWallStart:a.a.shape({length:a.a.number,unit:a.a.string}),movingWallEnd:a.a.shape({length:a.a.number,unit:a.a.string})}),pci:a.a.shape({pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string,type:a.a.shape({value:a.a.string})})})}),pti:a.a.shape({titleInstance:a.a.shape({type:a.a.shape({value:a.a.string})})})})})}),eResource:a.a.shape({_object:a.a.shape({embargo:a.a.shape({movingWallStart:a.a.shape({length:a.a.number,unit:a.a.string}),movingWallEnd:a.a.shape({length:a.a.number,unit:a.a.string})}),pci:a.a.shape({pti:a.a.shape({titleInstance:a.a.shape({dateMonographPublished:a.a.string,monographVolume:a.a.string,monographEdition:a.a.string,name:a.a.string,type:a.a.shape({value:a.a.string})})})}),pti:a.a.shape({titleInstance:a.a.shape({type:a.a.shape({value:a.a.string})})})})})}}}]);